{"version":3,"sources":["js/reducers/isLogged.js","js/reducers/followStock.js","js/reducers/getTrendingStocks.js","js/reducers/getStockInfo.js","js/reducers/getStockHistory.js","js/reducers/getTrendingPosts.js","js/reducers/index.js","js/utils/firebaseConfig.js","js/actions/index.js","assets/bookmark-filled.svg","assets/bookmark.svg","js/components/elements/followStockButton/followStockButtonView.js","js/components/elements/followStockButton/index.js","js/components/views/stockView/stockGraphView.js","js/utils/numberFormatter.js","js/components/views/stockView/stockInfoView.js","js/components/views/stockView/index.js","js/hooks/useStockList.js","js/hooks/useStockHistory.js","assets/loading.svg","js/components/presenters/stockPresenter.js","js/hooks/useStockInfo.js","js/components/elements/infoPopup.js","js/components/views/sidebarView.js","js/hooks/useTrendingStocks.js","js/components/presenters/sidebarPresenter.js","js/hooks/useFollowedStocksInfo.js","js/components/views/headerView/searchbarView.js","js/components/views/headerView/searchResultsView.js","assets/logo.svg","assets/loading_white.svg","js/components/views/sign/signinView.js","js/components/presenters/sign/signinPresenter.js","js/components/views/sign/signupView.js","js/components/presenters/sign/signupPresenter.js","js/components/views/headerView/index.js","js/components/presenters/headerPresenter.js","js/components/views/postView.js","js/hooks/useTrendingPosts.js","js/components/presenters/postPresenter.js","assets/fire.svg","assets/home.svg","assets/login.svg","assets/logout.svg","js/components/views/mobileNavbarView.js","js/components/presenters/mobileNavbar.js","App.js","index.js","js/utils/localStorage.js"],"names":["loggedReducer","state","action","type","followStockReducer","includes","symbol","filter","symbols","initialState","loading","stocks","error","getTrendingStocksReducer","payload","getStockInfoReducer","retval","data","getStockHistoryReducer","getTrendingPostsReducer","allReducers","combineReducers","isLogged","followedStocks","trendingStocks","getTrendingStocks","stockInfo","stockHistory","trendingPosts","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","analytics","setFollowedStocks","dbCallStarted","dbCallSuccess","dbCallFailure","getStockInfo","dispatch","getState","forEach","doc","get","then","res","catch","err","FollowStockButtonView","props","alt","src","bookmarkFilled","bookmark","className","onClick","followStock","FollowStockButton","useSelector","useDispatch","timeFormatter","timeStr","moment","format","CustomTooltip","active","x","y","toFixed","StockGraphView","React","useState","start","setStart","setNewStart","val","unit","dates","findDate","closestValue","Math","abs","closestIndex","i","length","diff","dateToIndex","historicalData","Date","subtract","toDate","id","ResponsiveContainer","width","height","LineChart","CartesianGrid","stroke","Line","dataKey","dot","XAxis","tickFormatter","tick","fontSize","YAxis","Tooltip","cursor","wrapperStyle","color","content","Brush","startIndex","numberFormatter","num","digits","int","Number","Infinity","retnum","suffixes","numZeros","floor","log10","round","pow","String","checkIfNA","retcontent","StockInfoView","info","dayrange","price","prevClose","marketCap","fiftyTwoWkrange","forwardPE","earningsTime","toDateString","dividendDate","exDividendDate","shortPercentFloat","style","fontStyle","currency","priceDate","StockView","name","useStockList","inpdata","setData","setLoading","setError","useEffect","loads","retdata","push","load","useStockHistory","historicData","getStockHistory","convertPricesToList","pricedict","prices","Object","entries","map","sort","a","b","date","close","StockPresenter","hdata","hloading","useStockInfo","sdata","sloading","currentData","setCurrentData","loadingIcon","filterData","dur","day","filterByDate","InfoPopup","trigger","on","position","closeOnDocumentClick","displayPrice","SidebarView","trending","stock","to","priceChange","trend","trendChange","watchlist","useTrendingStocks","keys","SidebarPresenter","tdata","tloading","terror","currentStockInfo","followedStocksInfo","setCurrentStockInfo","useFollowedStocksInfo","SearchbarView","placeholder","value","keyword","onChange","e","setKeyword","target","onKeyDown","event","key","document","getElementById","blur","goToTopResult","Link","require","SearchresultsView","results","SigninView","email","useRef","password","rememberMe","setRememberMe","ref","checked","prev","signin","current","loadingWhite","openSignup","signInWithFirebase","auth","setPersistence","Auth","Persistence","LOCAL","SESSION","signInWithEmailAndPassword","success","SigninPresenter","setErr","setLoad","message","SignupView","pwd","setPwd","pwdConf","setPwdConf","onInput","signup","openLogin","signUpWithFirebase","createUserWithEmailAndPassword","SignupPresenter","HeaderView","loginRef","open","closeLogin","signupRef","closeSignup","logo","logOut","match","el1","el2","toLowerCase","signOut","HeaderPresenter","availableStocks","setAvailableStocks","useDocument","filteredStocks","setFilteredStocks","topResult","setTopResult","history","useHistory","filtered","slice","stockslist","stocksToList","ImageWCaption","caption","url","PostView","paragraphs","body","split","paragraph","isRedditPreview","lastElement","href","redditlink","rel","subreddit","author","score","fromNow","title","post_hint","postedlink","media","reddit_video","fallback_url","controls","oembed","provider_name","exec","frameBorder","allow","allowFullScreen","is_gallery","gallery_data","items","image","media_metadata","media_id","s","u","useTrendingPosts","allTrendingPosts","setAllTrendingPosts","getTrendingPosts","posts","PostPresenter","lastResult","observer","shownPosts","setShownPosts","postAmnt","setPostAmnt","loadPosts","disconnect","IntersectionObserver","isIntersecting","prevAmnt","observe","post","index","fillView","MobileNavbarView","toggleTrending","trendingIcon","homeIcon","logoutIcon","loginIcon","MobileNavbar","initialRender","setInitialRender","sidebar","setSidebar","location","useLocation","setAttribute","toString","Stock","setSLoading","ploading","setPLoading","useParams","toUpperCase","App","trends","defaultSymbols","setDefaultSymbols","path","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","localStorage","getItem","JSON","parse","loadState","store","createStore","applyMiddleware","thunk","currentState","handleChange","previousState","currentUser","uid","set","setItem","stringify","saveState","subscribe","onAuthStateChanged","user","dt","ReactDOM","render","StrictMode"],"mappings":"iOAWeA,EAXO,WAA4B,IAA3BC,EAA0B,wDAAXC,EAAW,uCAC/C,OAAQA,EAAOC,MACb,IAAK,UACH,OAAO,EACT,IAAK,WACH,OAAO,EACT,QACE,OAAOF,I,QCQEG,EAfY,WAAyB,IAAxBH,EAAuB,uDAAf,GAAIC,EAAW,uCACjD,OAAQA,EAAOC,MACb,IAAK,eACH,OAAOF,EAAMI,SAASH,EAAOI,QAAUL,EAAhC,sBAA4CA,GAA5C,CAAmDC,EAAOI,SACnE,IAAK,iBACH,OAAOL,EAAMM,QAAO,SAAAD,GAAM,OAAIA,IAAWJ,EAAOI,UAClD,IAAK,eACH,OAAOL,EAAMI,SAASH,EAAOI,QAAUL,EAAMM,QAAO,SAAAD,GAAM,OAAIA,IAAWJ,EAAOI,UAAzE,sBAAuFL,GAAvF,CAA8FC,EAAOI,SAC9G,IAAK,sBACH,OAAOJ,EAAOM,QAChB,QACE,OAAOP,I,QCXPQ,EAAe,CACnBC,SAAS,EACTC,OAAQ,GACRC,MAAO,MA0BMC,EAxBkB,WAAmC,IAAlCZ,EAAiC,uDAAzBQ,EAAcP,EAAW,uCACjE,OAAQA,EAAOC,MACb,IAAK,0BACH,OAAO,2BACFF,GADL,IAEES,SAAS,IAEb,IAAK,0BACH,OAAO,2BACFT,GADL,IAEES,SAAS,EACTC,OAAQT,EAAOY,QAAQH,OACvBC,MAAO,OAEX,IAAK,0BACH,OAAO,2BACFX,GADL,IAEES,SAAS,EACTE,MAAOV,EAAOY,QAAQF,QAE1B,QACE,OAAOX,ICJEc,EAtBa,WAAyB,IAAxBd,EAAuB,uDAAf,GAAIC,EAAW,uCAC9Cc,EAAM,eACLf,GAEL,OAAOC,EAAOC,MACZ,IAAK,qBAGH,OAFAa,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,qBAIH,OAHAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQW,KAAOf,EAAOY,QACpCE,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,qBAGH,OAFAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQM,MAAQV,EAAOU,MAC9BI,EACT,QACE,OAAOf,ICGEiB,EAtBgB,WAAyB,IAAxBjB,EAAuB,uDAAf,GAAIC,EAAW,uCACjDc,EAAM,eACLf,GAEL,OAAOC,EAAOC,MACZ,IAAK,wBAGH,OAFAa,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,wBAIH,OAHAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQW,KAAOf,EAAOY,QACpCE,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,wBAGH,OAFAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQM,MAAQV,EAAOU,MAC9BI,EACT,QACE,OAAOf,ICGEkB,EAtBiB,WAAyB,IAAxBlB,EAAuB,uDAAf,GAAIC,EAAW,uCAClDc,EAAM,eACLf,GAEL,OAAOC,EAAOC,MACZ,IAAK,yBAGH,OAFAa,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,yBAIH,OAHAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQW,KAAOf,EAAOY,QACpCE,EAAOd,EAAOI,QAAQI,SAAU,EACzBM,EACT,IAAK,yBAGH,OAFAA,EAAOd,EAAOI,QAAU,GACxBU,EAAOd,EAAOI,QAAQM,MAAQV,EAAOU,MAC9BI,EACT,QACE,OAAOf,ICFEmB,EATKC,YAAgB,CAClCC,SAAUtB,EACVuB,eAAgBnB,EAChBoB,eAAgBC,EAChBC,UAAWX,EACXY,aAAcT,EACdU,cAAeT,I,qCCEjBU,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,sCACZC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIjB,IAAMC,EAAYT,IAASS,YAGZA,GAFGT,IAASU,YAEZD,G,yCCCFE,EAAoB,SAAAhC,GAC/B,MAAO,CACLL,KAAM,sBACNK,QAASA,IAIPiC,EAAgB,SAACtC,EAAMG,GAAP,MAAmB,CACvCH,KAAMA,EAAO,WACbG,OAAQA,IAGJoC,EAAgB,SAACvC,EAAMG,EAAQQ,GAAf,MAA4B,CAChDX,KAAMA,EAAO,WACbG,OAAQA,EACRQ,QAAQ,eACHA,KAID6B,EAAgB,SAACxC,EAAMG,EAAQM,GAAf,MAA0B,CAC9CT,KAAMA,EAAO,WACbG,OAAQA,EACRQ,QAAS,CACPF,WAISgC,EAAe,SAAApC,GAC1B,OAAO,SAACqC,EAAUC,GAChBtC,EAAQuC,SAAQ,SAAAzC,GACRA,KAAUwC,IAAWpB,YACzBmB,EAASJ,EAAc,aAAcnC,IACrCgC,EACGU,IADH,2BAC2B1C,IACxB2C,MACAC,MAAK,SAAAC,GACJN,EAASH,EAAc,aAAcpC,EAAQ6C,EAAIlC,YAElDmC,OAAM,SAAAC,GACLR,EAASF,EAAc,aAAcrC,EAAQ+C,aC7D1C,MAA0B,4CCA1B,MAA0B,qC,OCW1BC,EARe,SAAAC,GAAK,OACjC,qBACEC,IAAI,SACJC,IAAKF,EAAMhC,eAAelB,SAASkD,EAAMjD,QAAUoD,EAAiBC,EACpEC,UAAU,WACVC,QAASN,EAAMO,eCKJC,EATW,SAAAR,GACxB,IAAMhC,EAAiByC,aAAY,SAAA/D,GAAK,OAAIA,EAAMsB,kBAC5CD,EAAW0C,aAAY,SAAA/D,GAAK,OAAIA,EAAMqB,YACtCuB,EAAWoB,cAEjB,OAAO,mCACJ3C,GAAY,cAAC,EAAD,CAAuBhB,OAAQiD,EAAMjD,OAAQiB,eAAgBA,EAAgBuC,YAAa,kBAAMjB,EJKxG,CACL1C,KAAM,eACNG,OIPwIiD,EAAMjD,e,yFCN5I4D,EAAgB,SAAAC,GAAO,OAAIC,IAAOD,GAASE,OAAO,aAElDC,EAAgB,SAAAC,GAAM,eAC1B,qBAAKX,UAAY,gBAAjB,UACS,OAANW,QAAM,IAANA,OAAA,EAAAA,EAAQzD,UAAW,qCAClB,4BACGoD,EAAa,OAACK,QAAD,IAACA,GAAD,UAACA,EAAQzD,QAAQ,UAAjB,aAAC,EAAoBA,QAAQ0D,KAE7C,mCACGD,QADH,IACGA,GADH,UACGA,EAAQzD,QAAQ,UADnB,aACG,EAAoBA,QAAQ2D,EAAEC,QAAQ,WAgDhCC,EA5BQ,SAAApB,GACrB,MAA0BqB,IAAMC,SAAS,GAAzC,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAc,SAACC,EAAKC,GAAN,OAAeH,EAfjB,SAACI,EAAOC,GAG1B,IAFA,IAAIC,EAAeC,KAAKC,IAAIJ,EAAM,GAAGX,EAAEY,GACnCI,EAAe,EACVC,EAAI,EAAGA,EAAIN,EAAMO,OAAQD,IAAK,CACrC,IAAIE,EAAOL,KAAKC,IAAIJ,EAAMM,GAAGjB,EAAEY,GAC3BO,EAAON,IACTG,EAAeC,EACfJ,EAAeM,GAGnB,OAAOH,EAKqCI,CAAYrC,EAAMsC,eAAgBzB,IAAO,IAAI0B,MAAQC,SAASd,EAAKC,GAAMc,YACrH,OACE,sBAAKC,GAAG,QAAR,UACE,cAACC,EAAA,EAAD,CAAqBC,MAAM,OAAOC,OAAQ,IAA1C,SACE,eAACC,EAAA,EAAD,CAAuBpF,KAAMsC,EAAMsC,eAAnC,UACA,cAACS,EAAA,EAAD,CAAeC,OAAO,YACpB,cAACC,EAAA,EAAD,CAAMrG,KAAK,WAAWsG,QAAQ,IAAIF,OAAO,UAAUG,KAAK,IACxD,cAACC,EAAA,EAAD,CAAOJ,OAAS,UAAUK,cAAe1C,EAAeuC,QAAQ,IAAII,KAAM,CAACC,SAAU,IAArF,eACA,cAACC,EAAA,EAAD,CAAOR,OAAS,UAAUM,KAAM,CAACC,SAAU,MAC3C,cAACE,EAAA,EAAD,CAASC,QAAQ,EAAOC,aAAc,CAACf,MAAO,IAAKgB,MAAO,WAAYC,QAAS9C,IAE/E,cAAC+C,EAAA,EAAD,CAAOjB,OAAQ,GAAIG,OAAO,UAAUe,WAAYxC,EAAO8B,cAAe,SAAAzC,GAAO,MAAI,IAAIsC,QAAQ,IAAII,KAAM,CAACC,SAAU,QAPpGhC,KAUlB,sBAAKlB,UAAU,WAAf,UACE,wBAAQC,QAAS,kBAAMmB,EAAY,EAAG,SAAtC,gBACA,wBAAQnB,QAAS,kBAAMmB,EAAY,EAAG,UAAtC,gBACA,wBAAQnB,QAAS,kBAAMmB,EAAY,EAAG,UAAtC,gBACA,wBAAQnB,QAAS,kBAAMmB,EAAY,EAAG,SAAtC,gBACA,wBAAQnB,QAAS,kBAAMmB,EAAY,EAAG,SAAtC,gBACA,wBAAQnB,QAAS,kBAAMmB,EAAY,GAAI,SAAvC,wBCnCOuC,EApBS,SAACC,GAA8B,IAAzBC,EAAwB,uDAAjB,EAAGC,EAAc,wDAGpD,IADAF,EAAM,IAAIG,OAAOH,MACLI,IACV,MAAO,SAET,IAGIC,EAHAC,EAAW,CAAC,GAAI,IAAK,IAAK,IAAK,KAC/BC,EAAWzC,KAAK0C,MAAM1C,KAAK2C,MAAM3C,KAAKC,IAAIiC,IAAQ,GAUtD,OATAO,EAAWA,EAAW,EAAI,EAAIA,EAI5BF,EADEL,EAAM,GAAkB,IAAbO,EACJL,EAAMpC,KAAK4C,MAAMV,GAAOA,EAAI9C,QAAQ+C,IAEnCD,EAAMlC,KAAK6C,IAAI,GAAI,EAAEJ,IAAWrD,QAAQ+C,GAAUK,EAASC,GAGhE,IAAIK,OAAOP,ICfdQ,EAAY,SAACjB,GAAD,IAAUkB,EAAV,uDAAqBlB,EAArB,OAAiCA,EAAUkB,EAAa,OAyB3DC,EAvBO,SAAAhF,GAAK,iBACzB,sBAAK0C,GAAG,YAAR,UACE,oBAAIrC,UAAU,QAAd,2BACA,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,2BAA4C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKC,iBAC3I,qBAAK7E,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,mBAAoC,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKE,cACnI,qBAAK9E,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,4BAA6C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKG,kBAC5I,qBAAK/E,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,wBAAyC,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKI,UAAWrB,EAAgBhE,EAAMiF,KAAKI,UAAW,GAAG,WAC5L,qBAAKhF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,2BAA4C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKK,wBAC3I,qBAAKjF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,yBAA0C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKM,kBACzI,qBAAKlF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,sBAAuC,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKO,aAAZ,UAA0BxF,EAAMiF,KAAKO,oBAArC,aAA0B,EAAyB/C,SAASgD,uBACtL,qBAAKpF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,2BAA4C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKS,aAAZ,UAA0B1F,EAAMiF,KAAKS,oBAArC,aAA0B,EAAyBjD,SAASgD,uBAC3L,qBAAKpF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,8BAA+C,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKU,eAAZ,UAA4B3F,EAAMiF,KAAKU,sBAAvC,aAA4B,EAA2BlD,SAASgD,uBAClM,qBAAKpF,UAAU,MAAf,SAAqB,sBAAKA,UAAU,aAAf,UAA4B,sBAAMA,UAAU,QAAhB,oCAAqD,sBAAMA,UAAU,QAAhB,SAAyByE,EAAU9E,EAAMiF,KAAKW,kBAAmB5F,EAAMiF,KAAKW,kBAAoB,eAExM,oBAAGC,MAAO,CAACC,UAAW,UAAtB,mCACyB9F,EAAMiF,KAAKc,SADpC,kBAC6D/F,EAAMiF,KAAKe,UAAUvD,SAASgD,eAD3F,IAEE,uBAFF,iFCLWQ,EAVG,SAAAjG,GAAK,OACrB,sBAAK0C,GAAG,YAAR,UACE,sBAAMA,GAAG,cAAT,SACE,qBAAIrC,UAAU,QAAd,UAAsB,cAAC,EAAD,CAAmBtD,OAAQiD,EAAMiF,KAAKlI,SAAUiD,EAAMiF,KAAKiB,KAAjF,KAAyFlG,EAAMiF,KAAKlI,OAApG,SAEA,cAAC,EAAD,eAAoBiD,IACpB,cAAC,EAAD,eAAmBA,Q,SC4BVmG,GApCM,SAAClJ,EAASmJ,GAC7B,MAAwB/E,IAAMC,WAA9B,mBAAO5D,EAAP,KAAa2I,EAAb,KACA,EAA8BhF,IAAMC,UAAS,GAA7C,mBAAOnE,EAAP,KAAgBmJ,EAAhB,KACA,EAA0BjF,IAAMC,WAAhC,mBAAOjE,EAAP,KAAckJ,EAAd,KA+BA,OA7BAlF,IAAMmF,WAAU,WACdH,EAAQ,MACRC,GAAW,GACX,IAAIG,EAAQ,GACRC,EAAU,GAiBd,GAhBAzJ,EAAQuC,SAAQ,SAAAzC,GACqB,IAAD,EAA9BqJ,GAAWrJ,KAAUqJ,GACvB,UAAIA,EAAQrJ,UAAZ,aAAI,EAAiBM,QACnB,qBACAkJ,EAAS,kDACAH,EAAQrJ,GAAQI,QACzBsJ,EAAME,MAAK,GACFP,EAAQrJ,GAAQW,OACzB+I,EAAME,MAAK,GACXD,EAAQ3J,GAAUqJ,EAAQrJ,GAAQW,MAGpC+I,EAAME,MAAK,OAIVtJ,EAAO,CACV,IAAIuJ,EAAOH,EAAM3J,UAAS,GAC1BwJ,EAAWM,GACNA,GACHP,EAAQK,MAGX,CAACzJ,EAASmJ,IACN,CAAC1I,EAAMP,EAASE,IC9BZwJ,GAAkB,SAAA5J,GAC7B,IAAM6J,EAAerG,aAAY,SAAA/D,GAAK,OAAIA,EAAM0B,gBAC1CkB,EAAWoB,cACjB,EAA+ByF,GAAalJ,EAAS6J,GAArD,mBAAOpJ,EAAP,KAAaP,EAAb,KAAsBE,EAAtB,KAMA,OAJAgE,IAAMmF,WAAU,WACdlH,EVwD2B,SAAArC,GAC7B,OAAO,SAACqC,EAAUC,GAChB,IAAI2G,EAAO,gBACXjJ,EAAQuC,SAAQ,SAAAzC,GACRA,KAAUwC,IAAWnB,eACzBkB,EAASJ,EAAcgH,EAAMnJ,IAC7BgC,EACGU,IADH,uBACuB1C,IACpB2C,MACAC,MAAK,SAAAC,GACJN,EAASH,EAAc+G,EAAMnJ,EAAQ6C,EAAIlC,YAE1CmC,OAAM,SAAAC,GACLR,EAASF,EAAc8G,EAAMnJ,EAAQ+C,YUrEpCiH,CAAgB9J,MACxB,CAACA,IAEG,CAACS,EAAMP,EAASE,ICfV,OAA0B,oCCQnC2J,GAAsB,SAAAC,GAC1B,IAAIC,EAASC,OAAOC,QAAQH,GAK5B,OAJAC,EAASA,EAAOG,KAAI,SAAAlC,GAAK,MAAI,CAAC,IAAI5C,KAAK4C,EAAM,IAAIA,EAAM,QAChDmC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE,GAAKC,EAAE,MAE/BN,GADAA,EAASA,EAAOlK,QAAO,SAAAmI,GAAK,uBAAIA,EAAM,UAAV,aAAI,EAAUsC,SAC1BJ,KAAI,SAAAlC,GAAU,MAAO,CAAClE,EAAGkE,EAAM,GAAGsC,KAAKhF,SAAUvB,EAAGiE,EAAM,GAAGuC,WA4ChEC,GArCQ,SAAA3H,GACrB,MAAkC6G,GAAgB7G,EAAMjD,QAAxD,mBAAO6K,EAAP,KAAcC,EAAd,KACA,GADA,KCf0B,SAAA5K,GAC1B,IAAMkB,EAAYsC,aAAY,SAAA/D,GAAK,OAAIA,EAAMyB,aACvCmB,EAAWoB,cACjB,EAA+ByF,GAAalJ,EAASkB,GAArD,mBAAOT,EAAP,KAAaP,EAAb,KAAsBE,EAAtB,KAMA,OAJAgE,IAAMmF,WAAU,WACdlH,EAASD,EAAapC,MACrB,CAACA,IAEG,CAACS,EAAMP,EAASE,GDOWyK,CAAa9H,EAAMjD,SAArD,mBAAOgL,EAAP,KAAcC,EAAd,KACA,GADA,KACsC3G,IAAMC,SAAS,KAArD,mBAAO2G,EAAP,KAAoBC,EAApB,KAkBA,OAZA7G,IAAMmF,WAAU,WACVoB,GACFM,EAAelB,GAAoBY,EAAM5H,EAAMjD,YAEhD,CAAC6K,IAEJvG,IAAMmF,WAAU,WACVxG,EAAMsG,YACRtG,EAAMsG,WAAWuB,GAAYG,KAE9B,CAACH,EAAUG,IAGZ,oCACEhI,EAAM7C,SACN,sBAAKuF,GAAG,YAAR,WACImF,GAAYG,IAAa,qBAAK3H,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAKiI,OAnBnFJ,GAASH,GAASG,EAAM/H,EAAMjD,OAAO,KAAO6K,EAAM5H,EAAMjD,OAAO,KAoB9C,cAAC,EAAD,CACXkI,KAAM8C,EAAM/H,EAAMjD,OAAO,IACzBuF,eAAgB2F,EAChBG,WAAY,SAACC,EAAK1G,GAAN,OAAeuG,EAhChB,SAAChB,EAAQmB,EAAK1G,GAAd,OAAuBuF,EAAOlK,QAAO,SAAAsL,GAAG,OAAIA,EAAIrH,EAAIJ,IAAO,IAAI0B,MAAQC,SAAS6F,EAAK1G,MAgCtD4G,CAAavB,GAAoBY,EAAM5H,EAAMjD,OAAO,KAAMsL,EAAK1G,a,SE/BpG6G,GAhBG,SAAAxI,GAChB,OACE,mCACA,cAAC,KAAD,CACEyI,QAAS,wBAAQpI,UAAU,cAAlB,eACTqI,GAAI,CAAC,QAAS,SACdC,SAAS,YACTC,sBAAoB,EACpBvI,UAAU,OALZ,SAOGL,EAAM6D,aCHPgF,GAAe,SAAA1D,GAAK,OAAI,uBAAM9E,UAAS,sBAAiB8E,EAAQ,EAAI,UAAY,aAAxD,UAAwEnB,EAAkC,IAAlB,IAAII,OAAOe,GAAY,GAA/G,QA4Cf2D,GA1CK,SAAA9I,GAGlB,OACE,sBAAK0C,GAAG,UAAR,UACE,sBAAKA,GAAG,WAAR,UACE,uBAAMA,GAAG,iBAAT,UACE,0CACA,cAAC,GAAD,CAAWmB,QAAS,oJAEtB,uBAAMxD,UAAU,qBAAhB,UACE,oBAAIA,UAAU,SAASwF,MAAO,CAACnC,OAAQ,QAAvC,oBACA,oBAAIrD,UAAU,cAAd,mBACA,oBAAIA,UAAU,cAAd,sBAEDL,EAAM+I,SAAS1B,KAAI,SAAA2B,GAAK,OACvB,uBAAyB3I,UAAU,eAAnC,UACE,cAAC,EAAD,CAAmBtD,OAAQiM,EAAMjM,SACjC,cAAC,OAAD,CAAMsD,UAAU,SAAS4I,GAAE,iBAAYD,EAAMjM,QAA7C,SAAwDiM,EAAMjM,SAC7D8L,GAAaG,EAAME,cAvBVC,EAwBIH,EAAMG,MAxBHC,EAwBUJ,EAAMI,YAxBA,sBAAM/I,UAAS,sBAAiB+I,EAAc,EAAI,UAAY,aAA9D,SAA8EpF,EAAkC,IAAlB,IAAII,OAAO+E,GAAY,QAoB7IH,EAAMjM,QApBN,IAACoM,EAAOC,QA4BtBpJ,EAAMjC,UACP,sBAAK2E,GAAG,YAAR,UACE,2CACA,uBAAMrC,UAAU,qBAAhB,UACE,oBAAIA,UAAU,SAASwF,MAAO,CAACnC,OAAQ,QAAvC,oBACA,oBAAIrD,UAAU,cAAd,sBAEDL,EAAMqJ,UAAUhC,KAAI,SAAA2B,GAAK,OACxB,uBAAyB3I,UAAU,eAAnC,UACE,cAAC,EAAD,CAAmBtD,OAAQiM,EAAMjM,SACjC,cAAC,OAAD,CAAMsD,UAAU,SAAS4I,GAAE,iBAAYD,EAAMjM,QAA7C,SAAwDiM,EAAMjM,SAC7D8L,GAAaG,EAAME,eAHXF,EAAMjM,kBCtCduM,GAAoB,WAC/B,MAAwBjI,IAAMC,WAA9B,mBAAO5D,EAAP,KAAa2I,EAAb,KACA,EAA8BhF,IAAMC,UAAS,GAA7C,mBAAOnE,EAAP,KAAgBmJ,EAAhB,KACA,EAA0BjF,IAAMC,WAAhC,mBAAOjE,EAAP,KAAckJ,EAAd,KAEMwC,EAAWtI,aAAY,SAAA/D,GAAK,OAAIA,EAAMuB,kBACtCqB,EAAWoB,cAoBjB,OAlBAW,IAAMmF,WAAU,WACdlH,GhB2EK,SAAAA,GACL,IAAI4G,EAAO,kBACX5G,EAASJ,EAAcgH,EAAM,OAC7BnH,EACGU,IADH,uBAEGC,MACAC,MAAK,SAAAC,GACJN,EAASH,EAAc+G,EAAM,KAAMtG,EAAIlC,YAExCmC,OAAM,SAAAC,GACLR,EAASF,EAAc8G,EAAM,KAAMpG,YgBpFtC,IAEHuB,IAAMmF,WAAU,WACVuC,EACEA,EAAS1L,MACXkJ,EAAS,sCACAwC,EAAS5L,QAClBmJ,GAAW,GAC8B,GAAhCa,OAAOoC,KAAKR,EAAS3L,UAC9BiJ,EAAQ0C,EAAS3L,QACjBkJ,GAAW,IAGbA,GAAW,KAEZ,CAACyC,IACG,CAACrL,EAAMP,EAASE,ICVVmM,GAdU,SAAAxJ,GACvB,MAAkCsJ,KAAlC,mBAAOG,EAAP,KAAcC,EAAd,KAAwBC,EAAxB,KACMC,ECJ6B,WACnC,IAAM5L,EAAiByC,aAAY,SAAA/D,GAAK,OAAIA,EAAMsB,kBAC5C6L,EAAqBpJ,aAAY,SAAA/D,GAAK,OAAIA,EAAMyB,aACtD,EAAgDkD,IAAMC,SAAS,IAA/D,mBAAOsI,EAAP,KAAyBE,EAAzB,KACMxK,EAAWoB,cAkBjB,OAhBAW,IAAMmF,WAAU,WACdlH,EAASD,EAAarB,MACrB,CAACA,IAEJqD,IAAMmF,WAAU,WACd,IAAIvB,EAAO,GACXkC,OAAOC,QAAQyC,GAAoBrK,SAAQ,YAAoB,IAAD,mBAAjBzC,EAAiB,KAAT2E,EAAS,MACvDA,EAAIvE,SAAWuE,EAAIhE,MAAQM,EAAelB,SAASC,IACtDkI,EAAK0B,KAAL,2BACKjF,EAAIhE,MADT,IAEEwL,aAAcxH,EAAIhE,KAAKyH,MAAMzD,EAAIhE,KAAK0H,WAAW1D,EAAIhE,KAAK0H,gBAIhE0E,EAAoB7E,KACnB,CAAC4E,EAAoB7L,IACjB4L,EDlBkBG,GACnBhM,EAAW0C,aAAY,SAAA/D,GAAK,OAAIA,EAAMqB,YAE5C,OACA,sBAAK2E,GAAG,mBAAR,UACKgH,GAAY,qBAAKrJ,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAKiI,OAChEsB,GAAS,cAAC,GAAD,CAAa1L,SAAUA,EAAUgL,SAAUU,EAAOJ,UAAWO,EAAiBtC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE2B,YAAc1B,EAAE0B,iBACxHS,GAAU,qBAAKtJ,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAYC,IAAKiI,WEHrD6B,GAbO,SAAAhK,GAAK,OACvB,uBACEpD,KAAK,OACLqN,YAAY,eACZvH,GAAG,eACHwH,MAAOlK,EAAMmK,QACbC,SAAU,SAAAC,GAAC,OAAIrK,EAAMsK,WAAWD,EAAEE,OAAOL,QACzCM,UAAW,SAAAC,GAA4B,UAAdA,EAAMC,MAC7BC,SAASC,eAAe,gBAAgBC,OACxC7K,EAAM8K,qBCTNC,GAASC,EAAQ,IAAjBD,KAeOE,GAZW,SAAAjL,GAAK,OAC7B,sBAAK0C,GAAG,gBAAR,UACG1C,EAAMkL,QAAQ7D,KAAI,YAAqB,IAAD,mBAAlBtK,EAAkB,KAAVmJ,EAAU,KACrC,OACE,eAAC6E,GAAD,CAAM9B,GAAE,iBAAYlM,GAAuBsD,UAAU,eAArD,UACE,uBAAMA,UAAU,SAAhB,UAA0BtD,EAA1B,QAA0C,sBAAMsD,UAAU,OAAhB,SAAwB6F,MADjCnJ,MAKtCiD,EAAMkL,QAAQ/I,OAAS,GAAK,sBAAM9B,UAAU,eAAhB,iGCZlB,OAA0B,iC,8BCA1B,OAA0B,0CC8B1B8K,GA3BI,SAAAnL,GACjB,IAAMoL,EAAQ/J,IAAMgK,SACdC,EAAWjK,IAAMgK,SACvB,EAAoChK,IAAMC,UAAS,GAAnD,mBAAOiK,EAAP,KAAmBC,EAAnB,KAEA,OACA,sBAAKnL,UAAU,OAAf,UACE,gCACE,+CACA,uBAAOqC,GAAG,QAAQ9F,KAAK,OAAO6O,IAAKL,OAErC,gCACE,gDACA,uBAAOnB,YAAa,WAAYvH,GAAG,WAAW9F,KAAK,WAAW6O,IAAKH,IAClEtL,EAAM3C,OAAS,sBAAMgD,UAAU,QAAhB,SAAyBL,EAAM3C,SAC7C2C,EAAM3C,OAAS,2CAEnB,sBAAKgD,UAAU,cAAf,UACE,gCAAK,uBAAOzD,KAAK,WAAWyD,UAAU,WAAWqL,QAASH,EAAYnB,SAAU,kBAAMoB,GAAc,SAAAG,GAAI,OAAKA,QAA7G,iBACA,wBAAQrL,QAAS,0BAAMN,EAAM4L,OAAN,UAAaR,EAAMS,eAAnB,aAAa,EAAe3B,MAA5B,UAAmCoB,EAASO,eAA5C,aAAmC,EAAkB3B,MAAOqB,IAAnF,SACIvL,EAAM4G,KAAkB,qBAAKvG,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAK4L,OAA/D,cAGnB,0DAA4B,mBAAGzL,UAAU,OAAOC,QAASN,EAAM+L,WAAnC,4BCrB1BC,GAAkB,yCAAG,WAAOZ,EAAOE,EAAUC,GAAxB,UAAAhE,EAAA,0DACrB6D,IAASE,EADY,8BAGjBC,EAHiB,gCAIbjN,IAAS2N,OAAOC,eAAe5N,IAAS2N,KAAKE,KAAKC,YAAYC,OAJjD,6CAMb/N,IAAS2N,OAAOC,eAAe5N,IAAS2N,KAAKE,KAAKC,YAAYE,SANjD,wBAQfhO,IAAS2N,OAAOM,2BAA2BnB,EAAOE,GARnC,iCASd,CAACkB,SAAS,IATI,2DAWd,CAACA,SAAS,EAAO1M,IAAI,EAAD,KAXN,0DAAH,0DA2CT2M,GA3BS,SAAAzM,GACtB,MAAsBqB,IAAMC,WAA5B,mBAAOxB,EAAP,KAAY4M,EAAZ,KACA,EAAwBrL,IAAMC,UAAS,GAAvC,mBAAOsF,EAAP,KAAa+F,EAAb,KAiBA,OAAO,cAAC,GAAD,CACLf,OAAQ,SAACR,EAAOE,EAAUC,GAAlB,OAhBK,SAACH,EAAOE,EAAUC,GAC/BoB,GAAQ,GACRX,GAAmBZ,EAAOE,EAAUC,GAAY5L,MAAK,SAAAC,GACnD+M,GAAQ,GACJ/M,EAAI4M,QACNxM,EAAM0H,QAENgF,EAAO9M,EAAIE,IAAI8M,YAGlB/M,OAAM,SAAAD,GACL+M,GAAQ,MAK+Bf,CAAOR,EAAOE,EAAUC,IACjE3E,KAAMA,EACNvJ,MAAOyC,EACPiM,WAAY,WAAO/L,EAAM0H,QAAS1H,EAAM+L,iBCA7Bc,GAzCI,SAAA7M,GACjB,IAAMoL,EAAQ/J,IAAMgK,SACpB,EAAsBhK,IAAMC,WAA5B,mBAAOwL,EAAP,KAAYC,EAAZ,KACA,EAA8B1L,IAAMC,WAApC,mBAAO0L,EAAP,KAAgBC,EAAhB,KACA,EAAoC5L,IAAMC,UAAS,GAAnD,mBAAOiK,EAAP,KAAmBC,EAAnB,KAUA,OARAnK,IAAMmF,WAAU,WACVsG,IAAQE,EACVhN,EAAM0M,OAAO,yBAEb1M,EAAM0M,WAEP,CAACI,EAAKE,IAGT,sBAAK3M,UAAU,OAAf,UACE,gCACE,+CACA,uBAAOqC,GAAG,QAAQ9F,KAAK,OAAOqN,YAAa,+BAAgCwB,IAAKL,OAElF,gCACE,iDACA,uBAAOnB,YAAa,wBAAyBvH,GAAG,WAAW9F,KAAK,WAAWsQ,QAAS,SAAA7C,GAAC,OAAI0C,EAAO1C,EAAEE,OAAOL,UACzG,uBAAOD,YAAa,mBAAoBrN,KAAK,WAAWsQ,QAAS,SAAA7C,GAAC,OAAI4C,EAAW5C,EAAEE,OAAOL,UACzFlK,EAAM3C,OAAS,sBAAMgD,UAAU,QAAhB,SAAyBL,EAAM3C,SAC7C2C,EAAM3C,OAAS,2CAEnB,sBAAKgD,UAAU,cAAf,UACE,gCAAK,uBAAOzD,KAAK,WAAWyD,UAAU,WAAWqL,QAASH,EAAYnB,SAAU,kBAAMoB,GAAc,SAAAG,GAAI,OAAKA,QAA7G,iBACE,wBAAQrL,QAAS,WACO,IAAD,EAAjBwM,IAAQE,GACVhN,EAAMmN,OAAN,UAAa/B,EAAMS,eAAnB,aAAa,EAAe3B,MAAO4C,EAAKvB,IAF5C,SAKIvL,EAAM4G,KAAmB,qBAAKvG,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAK4L,OAAhE,eAGrB,6DAA+B,mBAAGzL,UAAU,OAAOC,QAASN,EAAMoN,UAAnC,2BCpC7BC,GAAkB,yCAAG,WAAOjC,EAAOE,EAAUC,GAAxB,UAAAhE,EAAA,0DACrB6D,IAASE,EADY,8BAGjBC,EAHiB,gCAIbjN,IAAS2N,OAAOC,eAAe5N,IAAS2N,KAAKE,KAAKC,YAAYC,OAJjD,6CAMb/N,IAAS2N,OAAOC,eAAe5N,IAAS2N,KAAKE,KAAKC,YAAYE,SANjD,wBAQfhO,IAAS2N,OAAOqB,+BAA+BlC,EAAOE,GARvC,iCASd,CAACkB,SAAS,IATI,2DAWd,CAACA,SAAS,EAAO1M,IAAI,EAAD,KAXN,0DAAH,0DA4CTyN,GA5BS,SAAAvN,GACtB,MAAsBqB,IAAMC,WAA5B,mBAAOxB,EAAP,KAAY4M,EAAZ,KACA,EAAwBrL,IAAMC,UAAS,GAAvC,mBAAOsF,EAAP,KAAa+F,EAAb,KAiBA,OAAO,cAAC,GAAD,CACLQ,OAAQ,SAAC/B,EAAOE,EAAUC,GAAlB,OAhBK,SAACH,EAAOE,EAAUC,GAC/BoB,GAAQ,GACRU,GAAmBjC,EAAOE,EAAUC,GAAY5L,MAAK,SAAAC,GACnD+M,GAAQ,GACJ/M,EAAI4M,QACNxM,EAAM0H,QAENgF,EAAO9M,EAAIE,IAAI8M,YAGlB/M,OAAM,SAAAD,GACL+M,GAAQ,MAK+BQ,CAAO/B,EAAOE,EAAUC,IACjE3E,KAAMA,EACNvJ,MAAOyC,EACP4M,OAAQA,EACRU,UAAW,WAAOpN,EAAM0H,QAAS1H,EAAMoN,gBCG5BI,GAtCI,SAAAxN,GACjB,IAAMyN,EAAWpM,IAAMgK,SACjB+B,EAAY,kCAAMK,EAAS5B,eAAf,aAAM,EAAkB6B,QACpCC,EAAa,kCAAMF,EAAS5B,eAAf,aAAM,EAAkBnE,SAErCkG,EAAYvM,IAAMgK,SAClBU,EAAa,kCAAM6B,EAAU/B,eAAhB,aAAM,EAAmB6B,QACtCG,EAAc,kCAAMD,EAAU/B,eAAhB,aAAM,EAAmBnE,SAE7C,OACA,sBAAKhF,GAAG,SAAR,UACE,cAAC,OAAD,CAAMuG,GAAG,IAAT,SACE,qBAAK/I,IAAK4N,GAAMpL,GAAG,WAErB,sBAAKA,GAAG,YAAR,UACE,cAAC,GAAD,CAAeyH,QAASnK,EAAMmK,QAASG,WAAYtK,EAAMsK,WAAYQ,cAAe9K,EAAM8K,gBAC1F,cAAC,GAAD,CAAmBI,QAASlL,EAAMkL,cAElClL,EAAMjC,UACN,qCACE,wBAAQnB,KAAK,SAAS8F,GAAG,eAAepC,QAAS8M,EAAjD,oBACA,wBAAQxQ,KAAK,SAAS8F,GAAG,gBAAgBpC,QAASyL,EAAlD,qBACA,eAAC,KAAD,CAAON,IAAKgC,EAAU7E,sBAAoB,EAACvI,UAAU,QAArD,UACE,mBAAGA,UAAU,QAAQC,QAASqN,EAA9B,kBACA,cAAC,GAAD,CAAiBjG,MAAOiG,EAAY5B,WAAYA,OAElD,eAAC,KAAD,CAAON,IAAKmC,EAAWhF,sBAAoB,EAACvI,UAAU,QAAtD,UACE,mBAAGA,UAAU,QAAQC,QAASuN,EAA9B,kBACA,cAAC,GAAD,CAAiBnG,MAAOmG,EAAaT,UAAWA,UAIrDpN,EAAMjC,UACL,wBAAQnB,KAAK,SAAS8F,GAAG,gBAAgBpC,QAASN,EAAM+N,OAAxD,yB,UC1BAC,GAAQ,SAACC,EAAKC,GAGlB,OADAA,EAAMA,GAAY,IADlBD,EAAMA,GAAY,IAEPE,cAAcrR,SAASoR,EAAIC,gBAGlCJ,GAAS,WACbzP,IAAS2N,OAAOmC,WAgCHC,GA7BS,SAAArO,GACtB,MAA8BqB,IAAMC,SAAS,IAA7C,mBAAO6I,EAAP,KAAgBG,EAAhB,KACA,EAA8CjJ,IAAMC,SAAS,IAA7D,mBAAOgN,EAAP,KAAwBC,EAAxB,KAEA,EAA6CC,aAAYzP,EAAUU,IAAV,wBAAzD,mBAAOrC,EAAP,KACA,GADA,UAC4CiE,IAAMC,SAAS,KAA3D,mBAAOmN,EAAP,KAAuBC,EAAvB,KACA,EAAkCrN,IAAMC,SAAS,IAAjD,mBAAOqN,EAAP,KAAkBC,EAAlB,KACM7Q,EAAW0C,aAAY,SAAA/D,GAAK,OAAIA,EAAMqB,YACtC8Q,EAAUC,cAYhB,OAVAzN,IAAMmF,WAAU,WACd,IAAIuI,EAAWT,EAAgBtR,QAAO,SAAAgM,GAAK,OAAIgF,GAAMhF,EAAM,GAAImB,IAAY6D,GAAMhF,EAAM,GAAImB,MAAU6E,MAAM,EAAG,GAC9GN,EAAkBK,GACdA,GAAYA,EAAS,IAAMA,EAAS,GAAG,IAAKH,EAAaG,EAAS,GAAG,MACxE,CAAC5E,EAASmE,IAEbjN,IAAMmF,WAAU,WACVpJ,GAASmR,EAnCI,SAAAnR,GACnB,IAAI6R,EAAa,GAIjB,OAHA9H,OAAOC,QAAQhK,GAAQoC,SAAQ,SAAAwJ,GAC7BiG,EAAWtI,KAAK,CAACqC,EAAM,GAAN,OAAoBA,EAAM,GAAN,UAEhCiG,EA8B2BC,CAAa9R,EAAOM,WACnD,CAACN,IAEG,cAAC,GAAD,CACL+M,QAASA,EACTG,WAAYA,EACZY,QAASuD,EACT3D,cAAe,kBAAM+D,EAAQlI,KAAR,iBAAuBgI,KAC5C5Q,SAAUA,EACVgQ,OAAQA,M,+BCpCNoB,GAAgB,SAAAnP,GAAK,OACzB,gCACE,qBAAKC,IAAKD,EAAMoP,QAASlP,IAAKF,EAAMqP,MACpC,+BAAOrP,EAAMoP,cAyCFE,GArCE,SAAAtP,GAAU,IAAD,EAbNqP,EAedE,EAAavP,EAAMwP,KAAKC,MAAM,SAUlC,OARAF,EAAaA,EAAWlI,KAAI,SAACqI,EAAWxN,GACtC,OAtBoB,SAAAwN,GACtB,OAAOA,EAAU1B,MAAM,mCAAqC0B,EAAU1B,MAAM,iBAqBtE2B,CAAgBD,GACX,qBAAKzP,IAAI,GAAGI,UAAU,eAAuBH,IAAKwP,GAARxN,GAE1C,cAAC,KAAD,UAAwBwN,GAAJxN,MAK7B,sBAAK7B,UAAU,OAAOoL,IAAKzL,EAAM4P,YAAjC,UACI,oBAAGC,KAAM7P,EAAM8P,WAAYzP,UAAY,eAAekK,OAAO,SAASwF,IAAI,aAA1E,UACE,sBAAM1P,UAAU,SAAhB,SAA0BL,EAAMgQ,YAChC,uBAAM3P,UAAU,OAAhB,qBAA2BL,EAAMiQ,OAAjC,WAA4CjM,EAAgBhE,EAAMkQ,MAAO,GAAG,GAA5E,kBAA6FrP,IAAOb,EAAMyH,KAAKhF,UAAU0N,gBAC3H,6BAAKnQ,EAAMoQ,QACVb,EACoB,UAApBvP,EAAMqQ,WAAyB,qBAAKpQ,IAAI,GAAGI,UAAU,eAAeH,IAAKF,EAAMsQ,aAC3D,SAApBtQ,EAAMqQ,WAAwB,mBAAGR,KAAM7P,EAAMsQ,WAAf,SAA4BtQ,EAAMsQ,aAC5C,iBAApBtQ,EAAMqQ,WAAgC,uBAAOnQ,IAAKF,EAAMuQ,MAAMC,aAAaC,aAAcC,UAAQ,IAC7E,eAApB1Q,EAAMqQ,WAAoE,aAAtC,UAAArQ,EAAMuQ,aAAN,eAAaI,OAAOC,gBACzD,qBAAKvQ,UAAU,iBAAf,SAAgC,wBAAQA,UAAU,QAAQH,IAAK,kCApCnDmP,EAoCkGrP,EAAMsQ,WAlC9G,+FACCO,KAAKxB,GAAK,IAiCgHe,MAAM,uBAAuBU,YAAY,IAAIC,MAAM,2FAA2FC,iBAAe,MAE7RhR,EAAMiR,YAAc,cAAC,KAAD,UAClBjR,EAAMkR,aAAaC,MAAM9J,KAAI,SAAA+J,GAAK,OACnC,cAAC,GAAD,CAEE/B,IAAKrP,EAAMqR,eAAeD,EAAME,UAAUC,EAAEC,EAC5CpC,QAASgC,EAAMhC,SAFVgC,EAAM1O,aC9CV+O,GAAmB,SAAAxU,GAE9B,IAAMoB,EAAgBoC,aAAY,SAAA/D,GAAK,OAAIA,EAAM2B,iBACjD,EAAgDgD,IAAMC,SAAS,IAA/D,mBAAOoQ,EAAP,KAAyBC,EAAzB,KACMrS,EAAWoB,cACjB,EAA+ByF,GAAalJ,EAASoB,GAArD,mBAAOX,EAAP,KAAaP,EAAb,KAAsBE,EAAtB,KAeA,OAbAgE,IAAMmF,WAAU,WACdlH,E9B2F4B,SAAArC,GAC9B,OAAO,SAACqC,EAAUC,GAChB,IAAI2G,EAAO,iBACXjJ,EAAQuC,SAAQ,SAAAzC,GACRA,KAAUwC,IAAWlB,gBACzBiB,EAASJ,EAAcgH,EAAMnJ,IAC7BgC,EACGU,IADH,wBACwB1C,IACrB2C,MACAC,MAAK,SAAAC,GACJN,EAASH,EAAc+G,EAAMnJ,EAAQ6C,EAAIlC,YAE1CmC,OAAM,SAAAC,GACLR,EAASF,EAAc8G,EAAMnJ,EAAQ+C,Y8BxGpC8R,CAAiB3U,MACzB,CAACA,IAEJoE,IAAMmF,WAAU,WACd,IAAIqL,EAAQ,GACZ5U,EAAQuC,SAAQ,SAAAzC,GACVE,EAAQH,SAASC,IAAWA,KAAUsB,GAAiBA,EAActB,GAAQW,MAAQW,EAActB,GAAQW,KAAKmU,QAClHA,EAAK,sBAAOA,GAAP,YAAiBxT,EAActB,GAAQW,KAAKmU,YAGrDF,EAAoBE,KACnB,CAACnU,IACG,CAACgU,EAAkBvU,EAASE,ICsDtByU,GAxEO,SAAA9R,GACpB,MAA+ByR,GAAiBzR,EAAM/C,SAAtD,mBAAOS,EAAP,KAAaP,EAAb,KAAsBE,EAAtB,KACM0U,EAAa1Q,IAAMgK,SACnB2G,EAAW3Q,IAAMgK,SACvB,EAAoChK,IAAMC,SAAS,IAAnD,mBAAO2Q,EAAP,KAAmBC,EAAnB,KAEA,EAAgC7Q,IAAMC,SAAS,GAA/C,mBAAO6Q,EAAP,KAAiBC,EAAjB,KAEA/Q,IAAMmF,WAAU,WACVxG,EAAMsG,YACRtG,EAAMsG,WAAWnJ,KAElB,CAACA,IAEJ,IAAMkV,EAAY,WACZL,EAASnG,SACXmG,EAASnG,QAAQyG,aAEfP,EAAWlG,UACbmG,EAASnG,QAAU,IAAI0G,sBAAqB,SAAAnL,GACtCA,EAAQ,GAAGoL,gBACbJ,GAAY,SAAAK,GAAQ,OAAIA,EAAW,QAGvCT,EAASnG,QAAQ6G,QAAQX,EAAWlG,WAoBxC,OAhBAxK,IAAMmF,WAAU,WACd4L,EAAY,KACX,CAACpS,EAAM/C,UAEVoE,IAAMmF,WAAU,WAEZ0L,EADExU,EACYA,EAAK4J,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE0I,MAAQ3I,EAAE2I,SAAOlB,MAAM,EAAEmD,GAE/C,MAEf,CAACzU,EAAMyU,IAEV9Q,IAAMmF,WAAU,WACd6L,MACC,CAACJ,IAGF,oCACEjS,EAAM7C,SACR,qCACE,uBAAMkD,UAAU,aAAhB,UACE,6BAAKL,EAAMoQ,QACX,cAAC,GAAD,CAAWvM,QAAS,wHAErBxG,GAAS,mBAAGgD,UAAU,QAAb,uDACTlD,GAAW,qBAAKkD,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAKiI,OAC/DzK,GAAQuU,GAAcA,EAAW5K,KAAI,SAACsL,EAAMC,GACzC,OACE,cAAC,GAAD,2BAEMD,GAFN,IAGEE,SAAUR,EACVzC,YAAagD,GAAST,EAAS,EAAIJ,EAAa,OAH3CY,EAAK7C,eAMlB,sBAAKzP,UAAU,MAAf,WACIlD,GAAWO,GAAQA,EAAKyE,QAAU8P,EAAW9P,QAAU,kDACvDhF,GAAWO,EAAKyE,OAAS8P,EAAW9P,QAAU,qBAAKlC,IAAI,aAAaC,IAAKiI,cCxEpE,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,kCCA1B,OAA0B,mCC6C1B2K,GAnCU,SAAA9S,GACvB,IAAMyN,EAAWpM,IAAMgK,SACjB+B,EAAY,kCAAMK,EAAS5B,eAAf,aAAM,EAAkB6B,QACpCC,EAAa,kCAAMF,EAAS5B,eAAf,aAAM,EAAkBnE,SAErCkG,EAAYvM,IAAMgK,SAIxB,OACE,sBAAK3I,GAAG,YAAR,UACE,wBAAQA,GAAG,iBAAiBmD,MAAO,CAACnC,OAAQ,WAAYpD,QAASN,EAAM+S,eAAvE,SAAuF,qBAAK7S,IAAK8S,OACjG,cAAC,OAAD,CAAMtQ,GAAG,OAAOuG,GAAG,IAAnB,SAAuB,qBAAK/I,IAAK+S,OACjC,wBAAQvQ,GAAG,QACTpC,QAAS,WACHN,EAAMjC,SACRiC,EAAM+N,SAENX,KAGJvH,MAAO,CAACnC,OAAQ,WARlB,SASI,qBAAKxD,IAAKF,EAAMjC,SAAWmV,GAAaC,OAG5C,eAAC,KAAD,CAAO1H,IAAKgC,EAAUpN,UAAU,QAAQuI,sBAAoB,EAA5D,UACE,mBAAGvI,UAAU,QAAQC,QAASqN,EAA9B,kBACA,cAAC,GAAD,CAAiBjG,MAAOiG,EAAY5B,WArBvB,kCAAM6B,EAAU/B,eAAhB,aAAM,EAAmB6B,aAuBxC,eAAC,KAAD,CAAOjC,IAAKmC,EAAWvN,UAAU,QAAQuI,sBAAoB,EAA7D,UACE,mBAAGvI,UAAU,QAAQC,QAASN,EAAM6N,YAApC,kBACA,cAAC,GAAD,CAAiBnG,MAxBH,kCAAMkG,EAAU/B,eAAhB,aAAM,EAAmBnE,SAwBF0F,UAAWA,WCjClDW,GAAS,kBAAMzP,IAAS2N,OAAOmC,WAoBtBgF,GAlBM,SAAApT,GACnB,MAA0CqB,IAAMC,UAAS,GAAzD,mBAAO+R,EAAP,KAAsBC,EAAtB,KACA,EAA8BjS,IAAMC,UAAS,GAA7C,mBAAOiS,EAAP,KAAgBC,EAAhB,KACMC,EAAWC,cACX3V,EAAW0C,aAAY,SAAA/D,GAAK,OAAIA,EAAMqB,YAU5C,OARAsD,IAAMmF,WAAU,kBACdmE,SAASC,eAAe,oBAAoB+I,aAAa,WAAYJ,EAAQK,cAC5E,CAACL,IAEJlS,IAAMmF,WAAU,kBACd6M,EAAgBG,GAAW,GAASF,GAAiB,KACpD,CAACG,IAEG,cAAC,GAAD,CAAkB1F,OAAQA,GAAQhQ,SAAUA,EAAUgV,eAAgB,kBAAMS,GAAW,SAAA7H,GAAI,OAAKA,SCyBzG,IAAMkI,GAAQ,SAAA7T,GACZ,MAAgCqB,IAAMC,UAAS,GAA/C,mBAAO0G,EAAP,KAAiB8L,EAAjB,KACA,EAAgCzS,IAAMC,UAAS,GAA/C,mBAAOyS,EAAP,KAAiBC,EAAjB,KAEKjX,EAAUkX,cAAVlX,OACL,OACE,qCACGiL,GAAY+L,GAAY,qBAAK1T,UAAU,UAAf,SAAyB,qBAAKJ,IAAI,aAAaC,IAAKiI,OAC3E,qCACE,cAAC,GAAD,CAAgBhL,QAAS6K,GAAY+L,EAAUzN,WAAYwN,EAAa/W,OAAQ,CAACA,EAAOmX,iBACxF,cAAC,GAAD,CAAe/W,QAAS6K,GAAY+L,EAAUzN,WAAY0N,EAAa/W,QAAS,CAACF,EAAOmX,eAAgB9D,MAAO,2BAA6BrT,EAAOmX,uBAM9IC,GArDf,WAEE,IAAMpW,EAAW0C,aAAY,SAAA/D,GAAK,OAAIA,EAAMqB,YACtCC,EAAiByC,aAAY,SAAA/D,GAAK,OAAIA,EAAMsB,kBAClD,EAAiCsL,KAAjC,mBAAO8K,EAAP,KACA,GADA,UAC4C/S,IAAMC,SAAS,KAA3D,mBAAO+S,EAAP,KAAuBC,EAAvB,KAQA,OANAjT,IAAMmF,WAAU,WACV4N,GAAUA,EAAO,IACnBE,EAAkBF,EAAO/M,KAAI,SAAA2B,GAAK,OAAIA,EAAMjM,aAE7C,CAACqX,IAGF,eAAC,gBAAD,WACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,qBAAK1R,GAAG,uBAAR,SACE,qBAAKA,GAAG,cAAR,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6R,KAAK,iBAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,GAAD,CACEtX,QAASc,EAAWC,EAAiBqW,EACrCjE,MAAOrS,EAAW,mBAAqB,uCAMjD,cAAC,GAAD,QC7BAyW,GAAkBC,OAAOC,sCAAwCC,IAEjEC,GCjBY,WAChB,IACE,IAAMlY,EAAQmY,aAAaC,QAAQ,SACnC,OAAc,OAAVpY,OACF,EAEOqY,KAAKC,MAAMtY,GAEpB,MAAOoD,GACP,QDQmBmV,GACjBC,GAAQC,YACZtX,EACA+W,GACAJ,GAAgBY,YAAgBC,OAG9BC,GAAeJ,GAAM3V,WACnBgW,GAAe,WACnB,IAAIC,EAAgBF,IACpBA,GAAeJ,GAAM3V,YACJvB,iBAAb,OAA+BwX,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAexX,iBAC5CsX,GAAavX,UAEfgB,EAAUU,IAAV,gBAAuBnB,IAAS2N,OAAOwJ,YAAYC,MAAOC,IAAI,CAC5D3X,eAAgBsX,GAAatX,iBAI/BsX,GAAavX,WAAb,OAAyByX,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAezX,WCvB5B,SAAArB,GAChB,IACEmY,aAAae,QAAQ,QAASb,KAAKc,UAAUnZ,IAC7C,WDqBAoZ,CAAU,CACR/X,SAAUmX,GAAM3V,WAAWxB,YAKjCmX,GAAMa,WAAU,WACdR,QAGFjX,IAAS2N,OAAO+J,oBAAmB,SAAAC,GAC7BA,GACFlX,EAAUU,IAAV,gBAAuBwW,EAAKP,MAAOhW,MAChCC,MAAK,SAAAuW,GAAE,eAAIhB,GAAM5V,SAASL,GAAkB,UAAAiX,EAAGxY,cAAH,eAAWM,gBAAX,UAA4BkY,EAAGxY,cAA/B,aAA4B,EAAWM,eAAiB,QAEvGkX,GAAM5V,SvCjDD,CACL1C,KAAM,cuCkDNsY,GAAM5V,SvC7CD,CACL1C,KAAM,auC6CNsY,GAAM5V,SAASL,EAAkB,SAIrCkX,IAASC,OACP,cAAC,IAAD,CAAUlB,MAAOA,GAAjB,SACE,cAAC,IAAMmB,WAAP,UACE,cAAC,GAAD,QAGJ1L,SAASC,eAAe,W","file":"static/js/main.6d748b84.chunk.js","sourcesContent":["const loggedReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'SIGN_IN':\r\n      return true;\r\n    case 'SIGN_OUT':\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default loggedReducer;","const followStockReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'FOLLOW_STOCK':\r\n      return state.includes(action.symbol) ? state : [...state, action.symbol];\r\n    case 'UNFOLLOW_STOCK':\r\n      return state.filter(symbol => symbol !== action.symbol);\r\n    case 'TOGGLE_STOCK':\r\n      return state.includes(action.symbol) ? state.filter(symbol => symbol !== action.symbol) : [...state, action.symbol];\r\n    case 'SET_FOLLOWED_STOCKS':\r\n      return action.symbols\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default followStockReducer","const initialState = {\r\n  loading: false,\r\n  stocks: [],\r\n  error: null\r\n};\r\nconst getTrendingStocksReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"TRENDING_STOCKS_STARTED\":\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case \"TRENDING_STOCKS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        stocks: action.payload.stocks,\r\n        error: null\r\n      }\r\n    case \"TRENDING_STOCKS_FAILURE\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport default getTrendingStocksReducer","const getStockInfoReducer = (state = {}, action) => {\r\n  let retval = {\r\n    ...state,\r\n  };\r\n  switch(action.type) {\r\n    case \"STOCK_INFO_STARTED\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].loading = true;\r\n      return retval\r\n    case \"STOCK_INFO_SUCCESS\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].data = action.payload;\r\n      retval[action.symbol].loading = false;\r\n      return retval\r\n    case \"STOCK_INFO_FAILURE\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].error = action.error;\r\n      return retval\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport default getStockInfoReducer","const getStockHistoryReducer = (state = {}, action) => {\r\n  let retval = {\r\n    ...state,\r\n  };\r\n  switch(action.type) {\r\n    case \"STOCK_HISTORY_STARTED\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].loading = true;\r\n      return retval\r\n    case \"STOCK_HISTORY_SUCCESS\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].data = action.payload;\r\n      retval[action.symbol].loading = false;\r\n      return retval\r\n    case \"STOCK_HISTORY_FAILURE\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].error = action.error;\r\n      return retval\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport default getStockHistoryReducer","const getTrendingPostsReducer = (state = {}, action) => {\r\n  let retval = {\r\n    ...state,\r\n  };\r\n  switch(action.type) {\r\n    case \"TRENDING_POSTS_STARTED\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].loading = true;\r\n      return retval\r\n    case \"TRENDING_POSTS_SUCCESS\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].data = action.payload;\r\n      retval[action.symbol].loading = false;\r\n      return retval\r\n    case \"TRENDING_POSTS_FAILURE\":\r\n      retval[action.symbol] = {};\r\n      retval[action.symbol].error = action.error;\r\n      return retval\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport default getTrendingPostsReducer","import {combineReducers} from 'redux';\r\nimport loggedReducer from \"./isLogged\";\r\nimport followStockReducer from \"./followStock\";\r\nimport getTrendingStocks from \"./getTrendingStocks\";\r\nimport getStockInfoReducer from './getStockInfo';\r\nimport getStockHistoryReducer from './getStockHistory';\r\nimport getTrendingPostsReducer from './getTrendingPosts';\r\n\r\nconst allReducers = combineReducers({\r\n  isLogged: loggedReducer,\r\n  followedStocks: followStockReducer,\r\n  trendingStocks: getTrendingStocks,\r\n  stockInfo: getStockInfoReducer,\r\n  stockHistory: getStockHistoryReducer,\r\n  trendingPosts: getTrendingPostsReducer,\r\n});\r\n\r\nexport default allReducers;","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport \"firebase/analytics\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD0dwEZgt9bAUm5I2laXXMjTS-xb8ef-I0\",\r\n  authDomain: \"iprog-projekt-6d4e8.firebaseapp.com\",\r\n  projectId: \"iprog-projekt-6d4e8\",\r\n  storageBucket: \"iprog-projekt-6d4e8.appspot.com\",\r\n  messagingSenderId: \"253433507815\",\r\n  appId: \"1:253433507815:web:a0b0e57d54e9ed0c22d742\",\r\n  measurementId: \"G-2LSYJ55LW9\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst firestore = firebase.firestore();\r\nconst analytics = firebase.analytics();\r\n\r\nexport default firestore","import firestore from \"js/utils/firebaseConfig.js\";\r\n\r\nexport const login = () => {\r\n  return {\r\n    type: 'SIGN_IN',\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: 'SIGN_OUT',\r\n  };\r\n};\r\n\r\nexport const toggleFollowStock = symbol => {\r\n  return {\r\n    type: 'TOGGLE_STOCK',\r\n    symbol: symbol\r\n  }\r\n}\r\n\r\nexport const setFollowedStocks = symbols => {\r\n  return {\r\n    type: 'SET_FOLLOWED_STOCKS',\r\n    symbols: symbols\r\n  }\r\n}\r\n\r\nconst dbCallStarted = (type, symbol) => ({\r\n  type: type + \"_STARTED\",\r\n  symbol: symbol\r\n})\r\n\r\nconst dbCallSuccess = (type, symbol, payload) => ({\r\n  type: type + \"_SUCCESS\",\r\n  symbol: symbol,\r\n  payload: {\r\n    ...payload\r\n  }\r\n})\r\n\r\nconst dbCallFailure = (type, symbol, error) => ({\r\n  type: type + \"_FAILURE\",\r\n  symbol: symbol,\r\n  payload: {\r\n    error\r\n  }\r\n})\r\n\r\nexport const getStockInfo = symbols => {\r\n  return (dispatch, getState) => {\r\n    symbols.forEach(symbol => {\r\n      if (!(symbol in getState().stockInfo)) {\r\n        dispatch(dbCallStarted(\"STOCK_INFO\", symbol))\r\n        firestore\r\n          .doc(`stockInformation/${symbol}`)\r\n          .get()\r\n          .then(res => {\r\n            dispatch(dbCallSuccess(\"STOCK_INFO\", symbol, res.data()))\r\n          })\r\n          .catch(err => {\r\n            dispatch(dbCallFailure(\"STOCK_INFO\", symbol, err))\r\n          })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const getStockHistory = symbols => {\r\n  return (dispatch, getState) => {\r\n    let name = \"STOCK_HISTORY\";\r\n    symbols.forEach(symbol => {\r\n      if (!(symbol in getState().stockHistory)) {\r\n        dispatch(dbCallStarted(name, symbol))\r\n        firestore\r\n          .doc(`priceHistory/${symbol}`)\r\n          .get()\r\n          .then(res => {\r\n            dispatch(dbCallSuccess(name, symbol, res.data()))\r\n          })\r\n          .catch(err => {\r\n            dispatch(dbCallFailure(name, symbol, err))\r\n          })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const getTrendingStocks = () => {\r\n  return dispatch => {\r\n    let name = \"TRENDING_STOCKS\"\r\n    dispatch(dbCallStarted(name, \"na\"));\r\n    firestore\r\n      .doc(`popularStocks/top10`)\r\n      .get()\r\n      .then(res => {\r\n        dispatch(dbCallSuccess(name, \"na\", res.data()))\r\n      })\r\n      .catch(err => {\r\n        dispatch(dbCallFailure(name, \"na\", err))\r\n      })\r\n  }\r\n};\r\n\r\nexport const getTrendingPosts = symbols => {\r\n  return (dispatch, getState) => {\r\n    let name = \"TRENDING_POSTS\"\r\n    symbols.forEach(symbol => {\r\n      if (!(symbol in getState().trendingPosts)) {\r\n        dispatch(dbCallStarted(name, symbol))\r\n        firestore\r\n          .doc(`trendingPosts/${symbol}`)\r\n          .get()\r\n          .then(res => {\r\n            dispatch(dbCallSuccess(name, symbol, res.data()))\r\n          })\r\n          .catch(err => {\r\n            dispatch(dbCallFailure(name, symbol, err))\r\n          })\r\n      }\r\n    })\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/bookmark-filled.f766e32e.svg\";","export default __webpack_public_path__ + \"static/media/bookmark.ec573fbf.svg\";","import bookmarkFilled from \"assets/bookmark-filled.svg\";\r\nimport bookmark from \"assets/bookmark.svg\";\r\n\r\nconst FollowStockButtonView = props => (\r\n  <img \r\n    alt=\"Follow\" \r\n    src={props.followedStocks.includes(props.symbol) ? bookmarkFilled : bookmark} \r\n    className=\"bookmark\" \r\n    onClick={props.followStock}\r\n  />\r\n)\r\nexport default FollowStockButtonView","import { toggleFollowStock } from \"js/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FollowStockButtonView from \"./followStockButtonView\";\r\n\r\nconst FollowStockButton = props => {\r\n  const followedStocks = useSelector(state => state.followedStocks);\r\n  const isLogged = useSelector(state => state.isLogged);\r\n  const dispatch = useDispatch();\r\n\r\n  return <>\r\n    {isLogged && <FollowStockButtonView symbol={props.symbol} followedStocks={followedStocks} followStock={() => dispatch(toggleFollowStock(props.symbol))}/>}\r\n  </>\r\n}\r\nexport default FollowStockButton","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Brush, CartesianGrid, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\n\r\nconst timeFormatter = timeStr => moment(timeStr).format('D MMM YY');\r\n\r\nconst CustomTooltip = active => (\r\n  <div className = \"customTooltip\">\r\n    {active?.payload && <>\r\n      <p>\r\n        {timeFormatter(active?.payload[0]?.payload.x)} \r\n      </p>\r\n      <p>\r\n        {active?.payload[0]?.payload.y.toFixed(2)}\r\n      </p>\r\n    </>\r\n    }\r\n  </div>\r\n);\r\n\r\nconst dateToIndex = (dates, findDate) => {\r\n  let closestValue = Math.abs(dates[0].x-findDate);\r\n  let closestIndex = 0;\r\n  for (let i = 0; i < dates.length; i++) {\r\n    let diff = Math.abs(dates[i].x-findDate);\r\n    if (diff < closestValue) {\r\n      closestIndex = i;\r\n      closestValue = diff;\r\n    }\r\n  }\r\n  return closestIndex\r\n}\r\n\r\nconst StockGraphView = props => {\r\n  const [start, setStart] = React.useState(0);\r\n  const setNewStart = (val, unit) => setStart(dateToIndex(props.historicalData, moment(new Date()).subtract(val, unit).toDate()))\r\n  return (\r\n    <div id=\"graph\">\r\n      <ResponsiveContainer width=\"100%\" height={400}>\r\n        <LineChart key={start} data={props.historicalData}>\r\n        <CartesianGrid stroke=\"#2A2C4A\" ></CartesianGrid>\r\n          <Line type=\"monotone\" dataKey=\"y\" stroke=\"#6CCC57\" dot={false}></Line>\r\n          <XAxis stroke = \"#6D80BE\" tickFormatter={timeFormatter} dataKey=\"x\" tick={{fontSize: 11}}> </XAxis>\r\n          <YAxis stroke = \"#6D80BE\" tick={{fontSize: 11}}></YAxis>\r\n          <Tooltip cursor={false} wrapperStyle={{width: 100, color: \"#6D80BE\"}} content={CustomTooltip}></Tooltip>\r\n          {/*BUGG HÄR, OM MAN TRYCKER PÅ SAMMA TIDSPERIOD IGEN EFTER MAN HAR RÖRT BRUSHEN SÅ UPPDATERAS INTE BRUSH */}\r\n          <Brush height={30} stroke=\"#6D80BE\" startIndex={start} tickFormatter={timeStr => \"\"} dataKey=\"x\" tick={{fontSize: 11}}></Brush>\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n      <div className=\"controls\">\r\n        <button onClick={() => setNewStart(1, \"week\")}>1W</button>\r\n        <button onClick={() => setNewStart(1, \"month\")}>1M</button>\r\n        <button onClick={() => setNewStart(6, \"month\")}>6M</button>\r\n        <button onClick={() => setNewStart(1, \"year\")}>1Y</button>\r\n        <button onClick={() => setNewStart(3, \"year\")}>3Y</button>\r\n        <button onClick={() => setNewStart(10, \"year\")}>MAX</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StockGraphView","const numberFormatter = (num, digits=2, int=false) => {\r\n  // eslint-disable-next-line\r\n  num = new Number(num);\r\n  if (num === Infinity) {\r\n    return \"∞\"\r\n  }\r\n  let suffixes = [\"\", \"k\", \"M\", \"B\", \"T\"];\r\n  let numZeros = Math.floor(Math.log10(Math.abs(num)) / 3);\r\n  numZeros = numZeros > 4 ? 4 : numZeros;\r\n  let retnum;\r\n\r\n  if (num < 1 || numZeros === 0) {\r\n    retnum = int ? Math.round(num) : num.toFixed(digits);\r\n  } else {\r\n    retnum = (num / Math.pow(10, 3*numZeros)).toFixed(digits) + suffixes[numZeros];\r\n  }\r\n  // eslint-disable-next-line\r\n  return new String(retnum);\r\n}\r\n\r\nexport default numberFormatter;","import numberFormatter from \"js/utils/numberFormatter\";\r\n\r\nconst checkIfNA = (content, retcontent=content) => content ? retcontent : \"N/A\"\r\n\r\nconst StockInfoView = props => (\r\n  <div id=\"stockdata\">\r\n    <h2 className=\"title\">Stock Summary</h2>\r\n    <div className=\"datatable\">\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Today's Range</span><span className=\"value\">{checkIfNA(props.info.dayrange)}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Close</span><span className=\"value\">{checkIfNA(props.info.price)}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Previous Close</span><span className=\"value\">{checkIfNA(props.info.prevClose)}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Market Cap</span><span className=\"value\">{checkIfNA(props.info.marketCap, numberFormatter(props.info.marketCap, 2, true))}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">52-Week Range</span><span className=\"value\">{checkIfNA(props.info.fiftyTwoWkrange)}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Forward P/E</span><span className=\"value\">{checkIfNA(props.info.forwardPE)}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Earnings</span><span className=\"value\">{checkIfNA(props.info.earningsTime, props.info.earningsTime?.toDate().toDateString())}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Dividend Date</span><span className=\"value\">{checkIfNA(props.info.dividendDate, props.info.dividendDate?.toDate().toDateString())}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Ex Dividend Date</span><span className=\"value\">{checkIfNA(props.info.exDividendDate, props.info.exDividendDate?.toDate().toDateString())}</span></div></div>\r\n      <div className=\"row\"><div className=\"rowContent\"><span className=\"label\">Short Percent of Float</span><span className=\"value\">{checkIfNA(props.info.shortPercentFloat, props.info.shortPercentFloat + \"%\")}</span></div></div>\r\n    </div>\r\n    <p style={{fontStyle: \"italic\"}}>\r\n      * Prices are shown in {props.info.currency}. Last updated {props.info.priceDate.toDate().toDateString()}.\r\n      <br/> \r\n      ** Items marked as \"N/A\" are currently not accessible from our sources.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default StockInfoView;","import FollowStockButton from \"js/components/elements/followStockButton\";\r\nimport StockGraphView from \"./stockGraphView\";\r\nimport StockInfoView from \"./stockInfoView\";\r\n\r\nconst StockView = props => (\r\n  <div id=\"stockinfo\">\r\n    <span id=\"stockheader\">\r\n      <h1 className=\"title\"><FollowStockButton symbol={props.info.symbol}/>{props.info.name} ({props.info.symbol})</h1>\r\n    </span>\r\n      <StockGraphView {...props}/>\r\n      <StockInfoView {...props}/>\r\n  </div>\r\n)\r\n\r\nexport default StockView","import React from \"react\";\r\n\r\nconst useStockList = (symbols, inpdata) => {\r\n  const [data, setData] = React.useState();\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    setData(null);\r\n    setLoading(true);\r\n    let loads = [];\r\n    let retdata = {};\r\n    symbols.forEach(symbol => {\r\n      if (inpdata && symbol in inpdata) {\r\n        if (inpdata[symbol]?.error) {\r\n          error = true;\r\n          setError(\"Encountered an error. Please try again later.\")\r\n        } else if (inpdata[symbol].loading) {\r\n          loads.push(true);\r\n        } else if (inpdata[symbol].data) {\r\n          loads.push(false);\r\n          retdata[symbol] = inpdata[symbol].data;\r\n        }\r\n      } else {\r\n        loads.push(true);\r\n      }\r\n    });\r\n\r\n    if (!error) {\r\n      let load = loads.includes(true);\r\n      setLoading(load);\r\n      if (!load) {\r\n        setData(retdata);\r\n      }\r\n    }\r\n  }, [symbols, inpdata])\r\n  return [data, loading, error]\r\n}\r\nexport default useStockList;","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getStockHistory } from \"js/actions\";\r\nimport useStockList from \"js/hooks/useStockList\";\r\n\r\n\r\nexport const useStockHistory = symbols => {\r\n  const historicData = useSelector(state => state.stockHistory);\r\n  const dispatch = useDispatch();\r\n  const [data, loading, error] = useStockList(symbols, historicData);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getStockHistory(symbols))\r\n  }, [symbols])\r\n\r\n  return [data, loading, error]\r\n}","export default __webpack_public_path__ + \"static/media/loading.fd28a59c.svg\";","//import {StockInfoView, StockGraphView, StockHeaderView} from \"../views/stockView\";\r\nimport StockView from \"js/components/views/stockView\";\r\nimport React from \"react\";\r\nimport moment from \"moment\"\r\nimport { useStockHistory } from \"js/hooks/useStockHistory\";\r\nimport { useStockInfo } from \"js/hooks/useStockInfo\";\r\nimport loadingIcon from \"assets/loading.svg\"\r\n\r\nconst convertPricesToList = pricedict => {\r\n  let prices = Object.entries(pricedict);\r\n  prices = prices.map(price => [new Date(price[0]),price[1]]);\r\n  prices.sort((a, b) => a[0] - b[0]);\r\n  prices = prices.filter(price => price[1]?.date);\r\n  prices = prices.map(price => {return {x: price[1].date.toDate(), y: price[1].close}});\r\n  return prices\r\n}\r\n\r\nconst filterByDate = (prices, dur, unit) => prices.filter(day => day.x > moment(new Date()).subtract(dur, unit));\r\n\r\n\r\nconst StockPresenter = props => {\r\n  const [hdata, hloading, herror] = useStockHistory(props.symbol);\r\n  const [sdata, sloading, serror] = useStockInfo(props.symbol);\r\n  const [currentData, setCurrentData] = React.useState([]);\r\n\r\n  const exists = () => (\r\n    sdata && hdata && sdata[props.symbol[0]] && hdata[props.symbol[0]]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (hdata) {\r\n      setCurrentData(convertPricesToList(hdata[props.symbol]));\r\n    }\r\n  }, [hdata]);\r\n\r\n  React.useEffect(() => {\r\n    if (props.setLoading) {\r\n      props.setLoading(hloading || sloading)\r\n    }\r\n  }, [hloading, sloading])\r\n\r\n  return (\r\n    <>\r\n    {!props.loading && \r\n      <div id=\"stockinfo\">\r\n        {(hloading || sloading) && <div className=\"loading\"><img alt=\"Loading...\" src={loadingIcon}></img></div>}\r\n        {exists() && <StockView \r\n          info={sdata[props.symbol[0]]}\r\n          historicalData={currentData}\r\n          filterData={(dur, unit) => setCurrentData(filterByDate(convertPricesToList(hdata[props.symbol[0]]), dur, unit))}\r\n        />}\r\n      </div>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default StockPresenter","import React from \"react\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\"\r\nimport { getStockInfo } from \"js/actions\";\r\nimport useStockList from \"js/hooks/useStockList\";\r\nimport {store} from \"index.js\"\r\n\r\nexport const useStockInfo = symbols => {\r\n  const stockInfo = useSelector(state => state.stockInfo);\r\n  const dispatch = useDispatch();\r\n  const [data, loading, error] = useStockList(symbols, stockInfo);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getStockInfo(symbols));\r\n  }, [symbols]);\r\n\r\n  return [data, loading, error]\r\n}","import {Popup} from \"reactjs-popup\"\r\n\r\nconst InfoPopup = props => {\r\n  return (\r\n    <>\r\n    <Popup\r\n      trigger={<button className=\"info-button\">?</button>}\r\n      on={['hover', 'focus']}\r\n      position=\"right top\"\r\n      closeOnDocumentClick\r\n      className=\"info\"\r\n    >\r\n      {props.content}\r\n    </Popup>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default InfoPopup","import {Link} from \"react-router-dom\";\r\nimport numberFormatter from \"js/utils/numberFormatter\";\r\nimport {useSelector} from \"react-redux\";\r\nimport FollowStockButton from \"js/components/elements/followStockButton\";\r\nimport InfoPopup from \"js/components/elements/infoPopup\";\r\n\r\n// eslint-disable-next-line\r\nconst displayTrend = (trend, trendChange) => <span className={`trendChange ${trendChange > 0 ? \"trendUp\" : \"trendDown\"}`}>{numberFormatter(new Number(trend)*100, 2)}</span> // trendChange i brackets sen, modifiera gräsnsen för trendUp|trendDown\r\n// eslint-disable-next-line\r\nconst displayPrice = price => <span className={`priceChange ${price > 0 ? \"priceUp\" : \"priceDown\"}`}>{numberFormatter(new Number(price)*100, 2)}%</span>\r\n\r\nconst SidebarView = props => {\r\n\r\n\r\n  return(\r\n    <div id=\"sidebar\">\r\n      <div id=\"trending\">\r\n        <span id=\"trendingheader\">\r\n          <h4>Trending</h4>\r\n          <InfoPopup content={<span>The trend score is based on the amount of mentions of a particular symbol across a multitude of subreddits.</span>}/>\r\n        </span>\r\n        <span className=\"title stockSidebar\">\r\n          <h5 className=\"ticker\" style={{cursor: \"auto\"}}>Symbol</h5>\r\n          <h5 className=\"priceChange\">Price</h5>\r\n          <h5 className=\"trendChange\">Trend</h5>\r\n        </span>\r\n        {props.trending.map(stock =>\r\n          <span key={stock.symbol} className=\"stockSidebar\">\r\n            <FollowStockButton symbol={stock.symbol}/>\r\n            <Link className=\"ticker\" to={`/stock/${stock.symbol}`}>{stock.symbol}</Link>\r\n            {displayPrice(stock.priceChange)}\r\n            {displayTrend(stock.trend, stock.trendChange)} \r\n            {/* trend */}\r\n          </span>)}\r\n      </div>\r\n      {props.isLogged &&\r\n      <div id=\"watchlist\">\r\n        <h4>Watchlist</h4>\r\n        <span className=\"title stockSidebar\">\r\n          <h5 className=\"ticker\" style={{cursor: \"auto\"}}>Symbol</h5>\r\n          <h5 className=\"priceChange\">Price</h5>\r\n        </span>\r\n        {props.watchlist.map(stock =>\r\n          <span key={stock.symbol} className=\"stockSidebar\">\r\n            <FollowStockButton symbol={stock.symbol}/>\r\n            <Link className=\"ticker\" to={`/stock/${stock.symbol}`}>{stock.symbol}</Link>\r\n            {displayPrice(stock.priceChange)}\r\n          </span>)}\r\n      </div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidebarView","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getTrendingStocks } from \"js/actions\";\r\n\r\n\r\nexport const useTrendingStocks = () => {\r\n  const [data, setData] = React.useState();\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState();\r\n\r\n  const trending = useSelector(state => state.trendingStocks);\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getTrendingStocks());\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (trending) {\r\n      if (trending.error) {\r\n        setError(\"Could not resolve trending stocks.\")\r\n      } else if (trending.loading) {\r\n        setLoading(true);\r\n      } else if (Object.keys(trending.stocks) != 0) {\r\n        setData(trending.stocks)\r\n        setLoading(false)\r\n      }\r\n    } else {\r\n      setLoading(true)\r\n    }\r\n  }, [trending])\r\n  return [data, loading, error]\r\n}","import SidebarView from \"../views/sidebarView\";\r\nimport loadingIcon from \"../../../assets/loading.svg\";\r\nimport React from \"react\";\r\nimport {useFollowedStocksInfo} from \"js/hooks/useFollowedStocksInfo\";\r\nimport { useTrendingStocks } from \"js/hooks/useTrendingStocks\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SidebarPresenter = props => {\r\n  const [tdata, tloading, terror] = useTrendingStocks();\r\n  const currentStockInfo = useFollowedStocksInfo();\r\n  const isLogged = useSelector(state => state.isLogged);\r\n\r\n  return (\r\n  <div id=\"sidebarContainer\">\r\n      {tloading && <div className=\"loading\"><img alt=\"Loading...\" src={loadingIcon}></img></div>}\r\n      {tdata && <SidebarView isLogged={isLogged} trending={tdata} watchlist={currentStockInfo.sort((a, b) => a.priceChange < b.priceChange)}></SidebarView>}\r\n      {terror && <div className=\"loading\"><img alt=\"Loading...\"src={loadingIcon}></img></div>}\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default SidebarPresenter","import {getStockInfo} from \"js/actions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport React from \"react\";\r\nimport useStockList from \"js/hooks/useStockList\";\r\n\r\nexport const useFollowedStocksInfo = () => {\r\n  const followedStocks = useSelector(state => state.followedStocks);\r\n  const followedStocksInfo = useSelector(state => state.stockInfo);\r\n  const [currentStockInfo, setCurrentStockInfo] = React.useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getStockInfo(followedStocks))\r\n  }, [followedStocks])\r\n\r\n  React.useEffect(() => {\r\n    let info = [];\r\n    Object.entries(followedStocksInfo).forEach(([symbol, val]) => {\r\n      if (!val.loading && val.data && followedStocks.includes(symbol)) {\r\n        info.push({\r\n          ...val.data,\r\n          priceChange: (val.data.price-val.data.prevClose)/val.data.prevClose\r\n        })\r\n      }\r\n    })\r\n    setCurrentStockInfo(info);\r\n  }, [followedStocksInfo, followedStocks])\r\n  return currentStockInfo;\r\n}","const SearchbarView = props =>\r\n    <input \r\n      type=\"text\" \r\n      placeholder=\"Search stock\" \r\n      id=\"search-field\" \r\n      value={props.keyword} \r\n      onChange={e => props.setKeyword(e.target.value)} \r\n      onKeyDown={event => {if (event.key === \"Enter\") {\r\n        document.getElementById(\"search-field\").blur();\r\n        props.goToTopResult();\r\n      }}}\r\n      />\r\n\r\nexport default SearchbarView","const { Link } = require(\"react-router-dom\")\r\n\r\n\r\nconst SearchresultsView = props => (\r\n  <div id=\"searchResults\">\r\n    {props.results.map(([symbol, name]) => {\r\n      return (\r\n        <Link to={`/stock/${symbol}`} key={symbol} className=\"searchResult\">\r\n          <span className=\"symbol\">{symbol}: </span><span className=\"name\">{name}</span>\r\n        </Link>\r\n      )\r\n    })}\r\n    {props.results.length < 1 && <span className=\"searchResult\">Can't find your stock? We currently only support stocks with a $2B+ market cap.</span>}\r\n  </div>)\r\n\r\nexport default SearchresultsView","export default __webpack_public_path__ + \"static/media/logo.8e8e68a7.svg\";","export default __webpack_public_path__ + \"static/media/loading_white.c75f25cc.svg\";","import loadingWhite from \"assets/loading_white.svg\";\r\nimport React from \"react\";\r\n\r\nconst SigninView = props => {\r\n  const email = React.useRef();\r\n  const password = React.useRef();\r\n  const [rememberMe, setRememberMe] = React.useState(true)\r\n\r\n  return (\r\n  <div className=\"sign\">\r\n    <div>\r\n      <h2>Email address</h2>\r\n      <input id=\"email\" type=\"text\" ref={email}></input>\r\n    </div>\r\n    <div>\r\n      <h2>Enter password</h2>\r\n      <input placeholder={\"Password\"} id=\"password\" type=\"password\" ref={password}></input>\r\n      {props.error && <span className=\"error\">{props.error}</span>}\r\n      {!props.error && <span>&nbsp;</span>}\r\n    </div>\r\n    <div className=\"buttonfield\">\r\n      <div><input type=\"checkbox\" className=\"remember\" checked={rememberMe} onChange={() => setRememberMe(prev => !prev)}/>Remember Me</div>\r\n      <button onClick={() => props.signin(email.current?.value, password.current?.value, rememberMe)}>\r\n        {!props.load ? \"Log In\" : <div className=\"loading\"><img alt=\"Loading...\" src={loadingWhite}/></div>}\r\n      </button>\r\n    </div>\r\n    <span>New to Tickertracker? <a className=\"link\" onClick={props.openSignup}>Sign Up</a></span>\r\n  </div>\r\n)}\r\n\r\nexport default SigninView","import SigninView from \"js/components/views/sign/signinView\";\r\nimport firebase from \"firebase/app\";\r\nimport React from \"react\";\r\n\r\n\r\nconst signInWithFirebase = async (email, password, rememberMe) => {\r\n  if (email && password) {\r\n    try {\r\n      if (rememberMe) {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\r\n      } else {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION);\r\n      }\r\n      await firebase.auth().signInWithEmailAndPassword(email, password);\r\n      return {success: true};\r\n    } catch (e) {\r\n      return {success: false, err: e};\r\n    }\r\n  }\r\n}\r\n\r\nconst SigninPresenter = props => {\r\n  const [err, setErr] = React.useState();\r\n  const [load, setLoad] = React.useState(false);\r\n\r\n  const signin = (email, password, rememberMe) => {\r\n    setLoad(true);\r\n    signInWithFirebase(email, password, rememberMe).then(res => {\r\n      setLoad(false);\r\n      if (res.success) {\r\n        props.close();\r\n      } else {\r\n        setErr(res.err.message)\r\n      }\r\n    })\r\n    .catch(res => {\r\n      setLoad(false);\r\n    })\r\n  }\r\n\r\n  return <SigninView\r\n    signin={(email, password, rememberMe) => signin(email, password, rememberMe)}\r\n    load={load}\r\n    error={err}\r\n    openSignup={() => {props.close(); props.openSignup()}}\r\n  />\r\n}\r\n\r\nexport default SigninPresenter;","import loadingWhite from \"assets/loading_white.svg\";\r\nimport React from \"react\";\r\n\r\nconst SignupView = props => {\r\n  const email = React.useRef();\r\n  const [pwd, setPwd] = React.useState();\r\n  const [pwdConf, setPwdConf] = React.useState();\r\n  const [rememberMe, setRememberMe] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    if (pwd !== pwdConf) {\r\n      props.setErr(\"Passwords must match.\");\r\n    } else {\r\n      props.setErr();\r\n    }\r\n  }, [pwd, pwdConf])\r\n  \r\n  return (\r\n  <div className=\"sign\">\r\n    <div>\r\n      <h2>Email address</h2>\r\n      <input id=\"email\" type=\"text\" placeholder={\"keith.gill@tickertracker.com\"} ref={email}></input>\r\n    </div>\r\n    <div>\r\n      <h2>Create password</h2>\r\n      <input placeholder={\"At least 6 characters\"} id=\"password\" type=\"password\" onInput={e => setPwd(e.target.value)}></input>\r\n      <input placeholder={\"Confirm password\"} type=\"password\" onInput={e => setPwdConf(e.target.value)}></input>\r\n      {props.error && <span className=\"error\">{props.error}</span>}\r\n      {!props.error && <span>&nbsp;</span>}\r\n    </div>\r\n    <div className=\"buttonfield\">\r\n      <div><input type=\"checkbox\" className=\"remember\" checked={rememberMe} onChange={() => setRememberMe(prev => !prev)}/>Remember Me</div>\r\n        <button onClick={() => {\r\n          if (pwd === pwdConf) {\r\n            props.signup(email.current?.value, pwd, rememberMe);\r\n          }\r\n        }}>\r\n          {!props.load ? \"Sign Up\" : <div className=\"loading\"><img alt=\"Loading...\" src={loadingWhite}/></div>}\r\n        </button>\r\n      </div>\r\n    <span>Already have an account? <a className=\"link\" onClick={props.openLogin}>Log In</a></span>\r\n  </div>)\r\n}\r\n\r\nexport default SignupView","import SignupView from \"js/components/views/sign/signupView\";\r\nimport firebase from \"firebase/app\"\r\nimport React from \"react\";\r\n\r\nconst signUpWithFirebase = async (email, password, rememberMe) => {\r\n  if (email && password) {\r\n    try {\r\n      if (rememberMe) {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\r\n      } else {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION);\r\n      }\r\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n      return {success: true};\r\n    } catch (e) {\r\n      return {success: false, err: e};\r\n    }\r\n  }\r\n}\r\n\r\nconst SignupPresenter = props => {\r\n  const [err, setErr] = React.useState();\r\n  const [load, setLoad] = React.useState(false);\r\n\r\n  const signup = (email, password, rememberMe) => {\r\n    setLoad(true);\r\n    signUpWithFirebase(email, password, rememberMe).then(res => {\r\n      setLoad(false);\r\n      if (res.success) {\r\n        props.close();\r\n      } else {\r\n        setErr(res.err.message);\r\n      }\r\n    })\r\n    .catch(res => {\r\n      setLoad(false);\r\n    })\r\n  }\r\n\r\n  return <SignupView\r\n    signup={(email, password, rememberMe) => signup(email, password, rememberMe)}\r\n    load={load}\r\n    error={err}\r\n    setErr={setErr}\r\n    openLogin={() => {props.close(); props.openLogin()}}\r\n  />\r\n}\r\n\r\nexport default SignupPresenter","import SearchbarView from \"./searchbarView\";\r\nimport SearchresultsView from \"./searchResultsView\";\r\nimport logo from \"assets/logo.svg\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Popup from \"reactjs-popup\";\r\nimport SigninPresenter from \"js/components/presenters/sign/signinPresenter\";\r\nimport SignupPresenter from \"js/components/presenters/sign/signupPresenter\";\r\n\r\nconst HeaderView = props => {\r\n  const loginRef = React.useRef();\r\n  const openLogin = () => loginRef.current?.open();\r\n  const closeLogin = () => loginRef.current?.close();\r\n\r\n  const signupRef = React.useRef();\r\n  const openSignup = () => signupRef.current?.open();\r\n  const closeSignup = () => signupRef.current?.close();\r\n\r\n  return (\r\n  <div id=\"header\">\r\n    <Link to=\"/\">\r\n      <img src={logo} id=\"logo\"/>\r\n    </Link>\r\n    <div id=\"searchbar\">\r\n      <SearchbarView keyword={props.keyword} setKeyword={props.setKeyword} goToTopResult={props.goToTopResult}/>\r\n      <SearchresultsView results={props.results}/>\r\n    </div>\r\n    {!props.isLogged &&\r\n      <>\r\n        <button type=\"button\" id=\"login-button\" onClick={openLogin}>Log In</button>\r\n        <button type=\"button\" id=\"signup-button\" onClick={openSignup}>Sign Up</button>\r\n        <Popup ref={loginRef} closeOnDocumentClick className=\"login\">\r\n          <a className=\"close\" onClick={closeLogin}>&times;</a>\r\n          <SigninPresenter close={closeLogin} openSignup={openSignup}/>\r\n        </Popup>\r\n        <Popup ref={signupRef} closeOnDocumentClick className=\"login\">\r\n          <a className=\"close\" onClick={closeSignup}>&times;</a>\r\n          <SignupPresenter close={closeSignup} openLogin={openLogin}/>\r\n        </Popup>\r\n      </>\r\n    }\r\n    {props.isLogged &&\r\n      <button type=\"button\" id=\"logout-button\" onClick={props.logOut}>Log Out</button>\r\n    }\r\n  </div>)\r\n}\r\n\r\nexport default HeaderView;","import HeaderView from \"js/components/views/headerView\";\r\nimport firestore from \"js/utils/firebaseConfig\";\r\nimport firebase from \"firebase/app\";\r\nimport React from \"react\";\r\nimport { useDocument } from \"react-firebase-hooks/firestore\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst stocksToList = stocks => {\r\n  let stockslist = []\r\n  Object.entries(stocks).forEach(stock => {\r\n    stockslist.push([stock[1][\"symbol\"], stock[1][\"name\"]])\r\n  })\r\n  return stockslist;\r\n}\r\n\r\nconst match = (el1, el2) => {\r\n  el1 = el1 ? el1 : \"\";\r\n  el2 = el2 ? el2 : \"\";\r\n  return el1.toLowerCase().includes(el2.toLowerCase());\r\n}\r\n\r\nconst logOut = () => {\r\n  firebase.auth().signOut();\r\n} \r\n\r\nconst HeaderPresenter = props => {\r\n  const [keyword, setKeyword] = React.useState(\"\");\r\n  const [availableStocks, setAvailableStocks] = React.useState([])\r\n  // Feels really unnecessary to separate this next line into application state/model/Redux. One single API call.\r\n  const [stocks, stocksLoading, stocksError] = useDocument(firestore.doc(`availableStocks/all`));\r\n  const [filteredStocks, setFilteredStocks] = React.useState([]);\r\n  const [topResult, setTopResult] = React.useState(\"\");\r\n  const isLogged = useSelector(state => state.isLogged);\r\n  const history = useHistory()\r\n\r\n  React.useEffect(() => {\r\n    let filtered = availableStocks.filter(stock => match(stock[0], keyword) || match(stock[1], keyword)).slice(0, 5);\r\n    setFilteredStocks(filtered);\r\n    if (filtered && filtered[0] && filtered[0][0]) {setTopResult(filtered[0][0])};\r\n  }, [keyword, availableStocks]);\r\n\r\n  React.useEffect(() => {\r\n    if (stocks) {setAvailableStocks(stocksToList(stocks.data()));}\r\n  }, [stocks]);\r\n  \r\n  return <HeaderView \r\n    keyword={keyword}\r\n    setKeyword={setKeyword}\r\n    results={filteredStocks}\r\n    goToTopResult={() => history.push(`/stock/${topResult}`)}\r\n    isLogged={isLogged}\r\n    logOut={logOut}\r\n  />\r\n}\r\nexport default HeaderPresenter;","import ReactMarkdown from 'react-markdown'\r\nimport Carousel from \"nuka-carousel\";\r\nimport numberFormatter from \"js/utils/numberFormatter\";\r\nimport React from \"react\";\r\nimport moment from 'moment';\r\n\r\nconst isRedditPreview = paragraph => {\r\n  return paragraph.match(/http[s]?:\\/\\/preview.redd.it/g) && !paragraph.match(/\\[.*\\]\\(.*\\)/g);\r\n}\r\n\r\nconst extractYTId = url => {\r\n  // eslint-disable-next-line\r\n  let ytreg = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/gi;\r\n  return ytreg.exec(url)[1];\r\n}\r\n\r\nconst ImageWCaption = props => (\r\n  <div>\r\n    <img alt={props.caption} src={props.url}/>\r\n    <span>{props.caption}</span>\r\n  </div>\r\n)\r\n\r\nconst PostView = props => {\r\n\r\n  let paragraphs = props.body.split(/\\r?\\n/);\r\n\r\n  paragraphs = paragraphs.map((paragraph, i) => {\r\n    if (isRedditPreview(paragraph)) {\r\n      return <img alt=\"\" className=\"inline-image\" key={i} src={paragraph}/>\r\n    } else {\r\n      return <ReactMarkdown key={i}>{paragraph}</ReactMarkdown>;\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"post\" ref={props.lastElement}>\r\n        <a href={props.redditlink} className = \"originalLink\" target=\"_blank\" rel=\"noreferrer\">\r\n          <span className=\"infoSR\">{props.subreddit}</span>\r\n          <span className=\"info\"> • {props.author} • {numberFormatter(props.score, 1, true)} points • {moment(props.date.toDate()).fromNow()}</span></a>\r\n        <h2>{props.title}</h2>\r\n        {paragraphs}\r\n        {props.post_hint === \"image\" && <img alt=\"\" className=\"inline-image\" src={props.postedlink}/>}\r\n        {props.post_hint === \"link\" && <a href={props.postedlink}>{props.postedlink}</a>}\r\n        {props.post_hint === \"hosted:video\" && <video src={props.media.reddit_video.fallback_url} controls/>}\r\n        {props.post_hint === \"rich:video\" && props.media?.oembed.provider_name === \"YouTube\" && \r\n        <div className=\"videoContainer\"><iframe className=\"video\" src={\"https://www.youtube.com/embed/\" + extractYTId(props.postedlink)} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/></div>\r\n        }\r\n        {props.is_gallery && <Carousel>\r\n          {props.gallery_data.items.map(image => \r\n          <ImageWCaption \r\n            key={image.id} \r\n            url={props.media_metadata[image.media_id].s.u}\r\n            caption={image.caption}\r\n          />)}\r\n        </Carousel>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostView\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getTrendingPosts } from \"js/actions\";\r\nimport useStockList from \"js/hooks/useStockList\";\r\n\r\nexport const useTrendingPosts = symbols => {\r\n\r\n  const trendingPosts = useSelector(state => state.trendingPosts);\r\n  const [allTrendingPosts, setAllTrendingPosts] = React.useState([]);\r\n  const dispatch = useDispatch();\r\n  const [data, loading, error] = useStockList(symbols, trendingPosts)\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getTrendingPosts(symbols));\r\n  }, [symbols])\r\n\r\n  React.useEffect(() => {\r\n    let posts = []\r\n    symbols.forEach(symbol => {\r\n      if (symbols.includes(symbol) && symbol in trendingPosts && trendingPosts[symbol].data && trendingPosts[symbol].data.posts) {\r\n        posts = [...posts, ...trendingPosts[symbol].data.posts]\r\n      }\r\n    });\r\n    setAllTrendingPosts(posts)\r\n  }, [data])\r\n  return [allTrendingPosts, loading, error];\r\n}","import React from \"react\";\r\nimport PostView from \"js/components/views/postView\";\r\nimport loadingIcon from \"assets/loading.svg\";\r\nimport InfoPopup from \"js/components/elements/infoPopup\";\r\nimport { useTrendingPosts } from \"js/hooks/useTrendingPosts\";\r\n\r\n\r\nconst PostPresenter = props => {\r\n  const [data, loading, error] = useTrendingPosts(props.symbols)\r\n  const lastResult = React.useRef();\r\n  const observer = React.useRef()\r\n  const [shownPosts, setShownPosts] = React.useState([]);\r\n\r\n  const [postAmnt, setPostAmnt] = React.useState(5);\r\n\r\n  React.useEffect(() => {\r\n    if (props.setLoading) {\r\n      props.setLoading(loading)\r\n    }\r\n  }, [loading])\r\n\r\n  const loadPosts = () => {\r\n    if (observer.current) {\r\n      observer.current.disconnect();\r\n    }\r\n    if (lastResult.current) {\r\n      observer.current = new IntersectionObserver(entries => {\r\n        if (entries[0].isIntersecting) {\r\n          setPostAmnt(prevAmnt => prevAmnt + 5)\r\n        }\r\n      });\r\n      observer.current.observe(lastResult.current);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setPostAmnt(5);\r\n  }, [props.symbols])\r\n\r\n  React.useEffect(() => {\r\n    if (data) {\r\n      setShownPosts(data.sort((a, b) => b.score - a.score).slice(0,postAmnt))\r\n    } else {\r\n      setShownPosts([]);\r\n    }\r\n  }, [data, postAmnt]);\r\n\r\n  React.useEffect(() => {\r\n    loadPosts();\r\n  }, [shownPosts]);\r\n\r\n  return (\r\n    <>\r\n    {!props.loading &&\r\n    <>\r\n      <span className=\"postHeader\">\r\n        <h1>{props.title}</h1>\r\n        <InfoPopup content={<span>This content is user-provided and collected from today's 'Hot' posts on Reddit.</span>}/>\r\n      </span>\r\n      {error && <p className=\"error\">An error occured. Please try again later.</p>}\r\n      {loading && <div className=\"loading\"><img alt=\"Loading...\" src={loadingIcon}></img></div>}\r\n      {data && shownPosts && shownPosts.map((post, index) => {\r\n          return (\r\n            <PostView \r\n              key={post.redditlink} \r\n              {...post} \r\n              fillView={loadPosts}\r\n              lastElement={index == postAmnt-1 ? lastResult : null}\r\n            />)\r\n        })}\r\n      <div className=\"end\">\r\n        {!loading && data && data.length <= shownPosts.length && <p>No more posts...</p>}\r\n        {!loading && data.length > shownPosts.length && <img alt=\"Loading...\" src={loadingIcon}></img>}\r\n      </div>\r\n    </>\r\n    }\r\n    </>)\r\n}\r\n\r\nexport default PostPresenter\r\n","export default __webpack_public_path__ + \"static/media/fire.ccd7d58c.svg\";","export default __webpack_public_path__ + \"static/media/home.ad6d5146.svg\";","export default __webpack_public_path__ + \"static/media/login.5913c84c.svg\";","export default __webpack_public_path__ + \"static/media/logout.9445e824.svg\";","import trendingIcon from \"assets/fire.svg\";\r\nimport homeIcon from \"assets/home.svg\";\r\nimport loginIcon from \"assets/login.svg\";\r\nimport logoutIcon from \"assets/logout.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Popup from \"reactjs-popup\";\r\nimport SigninPresenter from \"../presenters/sign/signinPresenter\";\r\nimport SignupPresenter from \"../presenters/sign/signupPresenter\";\r\nimport React from \"react\";\r\n\r\nconst MobileNavbarView = props => {\r\n  const loginRef = React.useRef();\r\n  const openLogin = () => loginRef.current?.open()\r\n  const closeLogin = () => loginRef.current?.close()\r\n\r\n  const signupRef = React.useRef();\r\n  const openSignup = () => signupRef.current?.open();\r\n  const closeSignup = () => signupRef.current?.close();\r\n\r\n  return (\r\n    <div id=\"mobileNav\">\r\n      <button id=\"toggleTrending\" style={{cursor: \"pointer\"}} onClick={props.toggleTrending}><img src={trendingIcon}></img></button>\r\n      <Link id=\"home\" to=\"/\"><img src={homeIcon}></img></Link>\r\n      <button id=\"login\" \r\n        onClick={() => {\r\n          if (props.isLogged) {\r\n            props.logOut();\r\n          } else {\r\n            openLogin();\r\n          }\r\n        }}\r\n        style={{cursor: \"pointer\"}}>\r\n          <img src={props.isLogged ? logoutIcon : loginIcon}></img>\r\n      </button>\r\n\r\n      <Popup ref={loginRef} className=\"login\" closeOnDocumentClick>\r\n        <a className=\"close\" onClick={closeLogin}>&times;</a>\r\n        <SigninPresenter close={closeLogin} openSignup={openSignup}/>\r\n      </Popup>\r\n      <Popup ref={signupRef} className=\"login\" closeOnDocumentClick>\r\n        <a className=\"close\" onClick={props.closeSignup}>&times;</a>\r\n        <SignupPresenter close={closeSignup} openLogin={openLogin}/>\r\n      </Popup>\r\n    </div>)\r\n}\r\nexport default MobileNavbarView;","import React from \"react\"\r\nimport {useLocation, useHistory} from \"react-router\";\r\nimport firebase from \"firebase/app\"\r\nimport {Link} from \"react-router-dom\";\r\nimport Popup from \"reactjs-popup\";\r\nimport MobileNavbarView from \"js/components/views/mobileNavbarView\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst logOut = () => firebase.auth().signOut();\r\n\r\nconst MobileNavbar = props => {\r\n  const [initialRender, setInitialRender] = React.useState(false);\r\n  const [sidebar, setSidebar] = React.useState(false);\r\n  const location = useLocation()\r\n  const isLogged = useSelector(state => state.isLogged)\r\n\r\n  React.useEffect(() => (\r\n    document.getElementById(\"sidebarContainer\").setAttribute(\"expanded\", sidebar.toString())\r\n  ), [sidebar]);\r\n\r\n  React.useEffect(() => (\r\n    initialRender ? setSidebar(false) : setInitialRender(true)\r\n  ), [location]);\r\n\r\n  return <MobileNavbarView logOut={logOut} isLogged={isLogged} toggleTrending={() => setSidebar(prev => !prev)}/>\r\n\r\n}\r\n\r\nexport default MobileNavbar","import {BrowserRouter as Router, Switch, Route, useParams} from \"react-router-dom\";\r\nimport StockPresenter from './js/components/presenters/stockPresenter';\r\nimport SidebarPresenter from './js/components/presenters/sidebarPresenter';\r\nimport HeaderPresenter from './js/components/presenters/headerPresenter';\r\nimport PostPresenter from './js/components/presenters/postPresenter';\r\nimport MobileNavbar from './js/components/presenters/mobileNavbar';\r\nimport {useSelector} from \"react-redux\";\r\nimport { useTrendingStocks } from \"js/hooks/useTrendingStocks\";\r\nimport React from \"react\";\r\nimport loadingIcon from \"assets/loading.svg\"\r\n\r\n\r\nfunction App() {\r\n\r\n  const isLogged = useSelector(state => state.isLogged);\r\n  const followedStocks = useSelector(state => state.followedStocks);\r\n  const [trends, loading, error] = useTrendingStocks();\r\n  const [defaultSymbols, setDefaultSymbols] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (trends && trends[0]) {\r\n      setDefaultSymbols(trends.map(stock => stock.symbol));\r\n    }\r\n  }, [trends])\r\n\r\n  return (\r\n    <Router>\r\n      <HeaderPresenter/>\r\n      <SidebarPresenter/>\r\n      <div id=\"mainContentContainer\">\r\n        <div id=\"mainContent\">\r\n          <Switch>\r\n            <Route path=\"/stock/:symbol\">\r\n              <Stock/>\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <PostPresenter \r\n                symbols={isLogged ? followedStocks : defaultSymbols} \r\n                title={isLogged ? \"Your Reddit Feed\" : \"Popular Posts from Reddit\"}\r\n              />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n      <MobileNavbar/>\r\n    </Router>\r\n  );\r\n}\r\n\r\nconst Stock = props => {\r\n  const [sloading, setSLoading] = React.useState(true)\r\n  const [ploading, setPLoading] = React.useState(true)\r\n\r\n  let {symbol} = useParams()\r\n  return (\r\n    <>\r\n      {sloading && ploading && <div className=\"loading\"><img alt=\"Loading...\" src={loadingIcon}></img></div>}\r\n        <>\r\n          <StockPresenter loading={sloading && ploading} setLoading={setSLoading} symbol={[symbol.toUpperCase()]}/>\r\n          <PostPresenter loading={sloading && ploading} setLoading={setPLoading} symbols={[symbol.toUpperCase()]} title={\"Posts from Reddit about \" + symbol.toUpperCase()}/>\r\n        </>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore, compose, applyMiddleware} from 'redux';\r\nimport allReducers from \"./js/reducers\";\r\nimport {Provider} from \"react-redux\";\r\nimport {loadState, saveState} from \"./js/utils/localStorage\"\r\nimport firestore from \"js/utils/firebaseConfig.js\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport \"./scss/style.css\";\r\n\r\nimport App from './App';\r\nimport firebase from \"firebase/app\";\r\nimport {login, logout, setFollowedStocks} from \"./js/actions\"\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistedState = loadState();\r\nconst store = createStore(\r\n  allReducers,\r\n  persistedState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nlet currentState = store.getState();\r\nconst handleChange = () => {\r\n  let previousState = currentState;\r\n  currentState = store.getState();\r\n  if (currentState.followedStocks != previousState?.followedStocks) {\r\n    if (currentState.isLogged) {\r\n      // ACCESS CURRENT USER\r\n      firestore.doc(`users/${firebase.auth().currentUser.uid}`).set({\r\n        followedStocks: currentState.followedStocks\r\n      });\r\n    }\r\n  }\r\n  if (currentState.isLogged != previousState?.isLogged) {\r\n    saveState({\r\n      isLogged: store.getState().isLogged\r\n    });\r\n  }\r\n}\r\n\r\nstore.subscribe(() => {\r\n  handleChange();\r\n});\r\n\r\nfirebase.auth().onAuthStateChanged(user => {\r\n  if (user) {\r\n    firestore.doc(`users/${user.uid}`).get()\r\n      .then(dt => store.dispatch(setFollowedStocks(dt.data()?.followedStocks ? dt.data()?.followedStocks : [])))\r\n    \r\n    store.dispatch(login());\r\n  } else {\r\n    store.dispatch(logout());\r\n    store.dispatch(setFollowedStocks([]));\r\n  }\r\n})\r\n\r\nReactDOM.render((\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>),\r\n  document.getElementById('root')\r\n);\r\n\r\nexport {store}","const loadState = () => {\r\n  try {\r\n    const state = localStorage.getItem('state');\r\n    if (state === null) {\r\n      return undefined;\r\n    } else {\r\n      return JSON.parse(state)\r\n    }\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nconst saveState = state => {\r\n  try {\r\n    localStorage.setItem('state', JSON.stringify(state))\r\n  } catch {\r\n\r\n  }\r\n}\r\n\r\nexport {loadState, saveState};"],"sourceRoot":""}